<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2">
<meta name="theme-color" content="#222">









  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Microsoft YaHei:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="https://o8zyn0sct.qnssl.com/imagesfavicon.ico?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="https://o8zyn0sct.qnssl.com/imagesfavicon.ico?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="https://o8zyn0sct.qnssl.com/imagesfavicon.ico?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.3.0',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
  <meta name="description" content="Avenue to Jane!">
<meta property="og:type" content="website">
<meta property="og:title" content="AbsentM&#39;s Notes">
<meta property="og:url" content="https://absentm.github.io/page/4/index.html">
<meta property="og:site_name" content="AbsentM&#39;s Notes">
<meta property="og:description" content="Avenue to Jane!">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AbsentM&#39;s Notes">
<meta name="twitter:description" content="Avenue to Jane!">






  <link rel="canonical" href="https://absentm.github.io/page/4/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>AbsentM's Notes</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AbsentM's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/05/14/The-solution-of-Databases-Query-problems-Fifth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/05/14/The-solution-of-Databases-Query-problems-Fifth/" itemprop="url">
                  The solution of Databases Query problems(Fifth)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-05-14 17:53:22" itemprop="dateCreated datePublished" datetime="2016-05-14T17:53:22+08:00">2016-05-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Notes/" itemprop="url" rel="index"><span itemprop="name">Database Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/05/14/The-solution-of-Databases-Query-problems-Fifth/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/05/14/The-solution-of-Databases-Query-problems-Fifth/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/05/14/The-solution-of-Databases-Query-problems-Fifth/" class="leancloud_visitors" data-flag-title="The solution of Databases Query problems(Fifth)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><blockquote>
<p>when there is rain neither sun nor moon, the people actually do not think so. </p>
<p>Perhaps there are seasonal climate not to be cold rain, let the sun or the cool side.</p>
<p>Has the rain the night is otherwise a moonlit night no flavor. </p>
<p>Sometimes not reminiscent of Li Shangyin “when he cut a total of west window candle, but then when the famous hope of reunion among friends”</p>
</blockquote>
<p>In the rain, fom the sky come the silk notes; here, quiet and comfortable.</p>
<p><img src="http://img.blog.csdn.net/20160514111536892" alt="in rain"></p>
<hr>
<h2 id="Presentation"><a href="#Presentation" class="headerlink" title="Presentation"></a>Presentation</h2><p>In this page, we will show the homework of the course of the Databases Technology in CMU. All of the questions we tested in the postgresql.</p>
<p>This section mainly is to practice the <strong>query operation of the SQL</strong>, include <strong>SQL view, index,</strong> etc. We also sure that all the sqls will pass in the mysql, sqlite… ,  this article also will provide the Chinese version in detail.</p>
<p><a href="https://absentm.github.io/2016/05/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86%E5%8F%8A%E8%AF%A6%E8%A7%A3%E4%B8%AD%E6%96%87%E7%89%88%EF%BC%88%E4%BA%94%EF%BC%89/">中文版</a></p>
<hr>
<h2 id="Question-Details"><a href="#Question-Details" class="headerlink" title="Question Details"></a>Question Details</h2><p>In this homework you will have to write SQL queries to answer questions on a movie dataset, about movies and actors. The database contains two tables:</p>
<p>• movies(<em>mid</em>, title, year, num ratings, rating) , Primary key: mid<br>• play in(<em>mid, name</em>, cast position),  Primary key: mid, name</p>
<p>The tables contain the obvious information: which actor played in what movie, at what position; for each movie, we have the title (eg., ’Gone with the wind’), year of production, count of rating reviews it received, and the average score of those ratings (a float in the range 0 to 10, with ’10’ meaning ’excellent’). </p>
<hr>
<p>We will use <strong>Postgres</strong>, which is installed in the your own machines.</p>
<p><strong>Question 1: Warm-up queries . . . . . . . . . . . . . . . . . . . . . . . . . [5 points]</strong><br>(a) [2 points] Print all actors in the movie Quantum of Solace, sorted by cast position. Print only their names.<br>(b) [3 points] Print all movie titles that were released in 2002, with rating larger than 8 and with more than one rating (num ratings &gt; 1).</p>
<hr>
<p><strong>Question 2: Find the star’s movies . . . . . . . . . . . . . . . . . . . . [5 points]</strong><br>(a) [5 points] Print movie titles where Sean Connery was the star (i.e. he had position 1 in the cast). Sort the movie titles alphabetically.</p>
<hr>
<p><strong>Question 3: Popular actors . . . . . . . . . . . . . . . . . . . . . . . . . . [15 points]</strong><br>(a) [8 points] We want to find the actors of the highest quality. We define their quality as the weighted average of the ratings of the movies they have played in (regardless of cast position), using the number of ratings for each movie as the<br>weight. In other words, we define the quality for a particular actor as</p>
<p><img src="http://img.blog.csdn.net/20160514115213402" alt="计算公式"></p>
<p>Print the names of the top 5 actors, according to the above metric. Break ties alphabetically.</p>
<p>(b) [7 points] Now we want to find the 5 most popular actors, in terms of number of ratings (regardless of positive or negative popularity). I.e, if actor ‘Smith’ played in 2 movies, with num ratings 10 and 15, then Smith’s popularity is 25 (=10+15). Print the top 5 actor names according to popularity. Again, break ties alphabetically.</p>
<hr>
<p><strong>Question 4: Most controversial actor . . . . . . . . . . . . . . . . [10 points]</strong><br>(a) [10 points] We want to find the most controversial actor. As a measure of controversy, we define the maximum difference between the ratings of two movies that an actor has played in (regardless of cast position). That is, if actor ‘Smith’ played in a movie that got rating=1.2, and another that got rating=9.5, and all the other movies he played in, obtained scores within that range, then Smith’s contoversy score is 9.5-1.2= 8.3. Print the name of the top-most controversial actor - again, if there is a tie in first place, break it alphabetically.</p>
<hr>
<p><strong>Question 5: The minions . . . . . . . . . . . . . . . . . . . . . . . . . . . . [20 points]</strong><br>(a) [20 points] Find the “minions” of Annette Nicole: Print the names of actors who only played in movies with her and never without her. The answer should not contain the name of Annette Nicole. Order the names alphabetically.</p>
<hr>
<p><strong>Question 6: High productivity . . . . . . . . . . . . . . . . . . . . . . . . [5 points]</strong><br>(a) [5 points] Find the top 2 most productive years (by number of movies produced). Solve ties by preferring chronologically older years, and print only the years.</p>
<hr>
<p><strong>Question 7: Movies with similar cast . . . . . . . . . . . . . . . . [15 points]</strong><br>(a) [8 points] Print the count of distinct pairs of movies that have at least one actor in common (ignoring cast position). Exclude self-pairs, and mirror-pairs.<br>(b) [7 points] Print the count of distinct pairs of moves that have at least two actors in common (again, ignoring cast position). Again, exclude self-pairs, and mirror pairs.</p>
<hr>
<p><strong>Question 8: Skyline query . . . . . . . . . . . . . . . . . . . . . . . . . . . [25 points]</strong><br>(a) [25 points] We want to find a set of movies that have both high popularity (ie, high num ratings) as well as high quality (rating). No single movie may achieve both - in which case, we want the so-called Skyline query 2 . More specifically, we want all movies that are not “dominated” by any other movie:</p>
<p><strong>Definition of domination :</strong> <em>Movie “A” dominates movie “B” if movie “A” wins over movie “B”, on both criteria, or wins on one, and ties on the rest.</em></p>
<p>Figure 1 gives a pictorial example: the solid dots (’A’, ’D’, ’F’) are not dominated by any other dot, and thus form the skyline. All other dots are dominated by at least one other dot: e.g., dot ’B’ is dominated by dot ’A’, being inside the shaded rectangle that has ’A’ as the upper-right corner.</p>
<p><img src="http://img.blog.csdn.net/20160514124128083" alt="figure 1"></p>
<p>Figure 1: Illustration of Skyline and domination : ’A’ dominates all points in the shaded rectangle; ’A’, ’D’ and ’F’ form the skyline of this cloud of points.</p>
<p>Given the above description, print the title of all the movies on the skyline, along with the rating and the number of ratings.</p>
<hr>
<h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><p>we give the Postgres version in detail, we will see you can tranfer it easily in mysql or sqlite.</p>
<h3 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization:"></a>Initialization:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">## drop the table if exists</span><br><span class="line">drop table if exists movies cascade;   </span><br><span class="line">drop table if exists play_in cascade;</span><br><span class="line"></span><br><span class="line">## create tables movies and play_in</span><br><span class="line">create table movies (</span><br><span class="line">mid integer PRIMARY KEY, </span><br><span class="line">title varchar(200),</span><br><span class="line">year integer,</span><br><span class="line">num_ratings integer, </span><br><span class="line">rating real);</span><br><span class="line"></span><br><span class="line">create table play_in (</span><br><span class="line">mid integer references movies, </span><br><span class="line">name varchar(100), </span><br><span class="line">cast_position integer, </span><br><span class="line">PRIMARY KEY(mid, name));</span><br><span class="line"></span><br><span class="line">create index mid on movies(mid);</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Insert-Values"><a href="#Insert-Values" class="headerlink" title="Insert Values"></a>Insert Values</h3><p>Insert into some values into the table movies and play_in,<br>you will find the datas just in the follow links in my 360 yunFiles:</p>
<p><a href="https://yunpan.cn/cSfLzxQApRXSi" target="_blank" rel="noopener">https://yunpan.cn/cSfLzxQApRXSi</a>     password: f3ab</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">## use &quot;copy&quot; in Postgres</span><br><span class="line">\copy movies from &apos;~/data/movie_processed.dat&apos;;</span><br><span class="line">\copy play_in from &apos;~/data/movie_actor_processed.dat&apos;;</span><br><span class="line"></span><br><span class="line">## use &quot;load data local infile&quot; in Mysql</span><br><span class="line">load data local infile &quot;~/data/movie_processed.dat&quot; into table movies FIELDS TERMINATED BY &apos;\t&apos;;</span><br><span class="line"></span><br><span class="line">load data local infile &quot;~/data/movie_actor_processed.dat&quot; into table play_in FIELDS TERMINATED BY &apos;\t&apos;;</span><br><span class="line"></span><br><span class="line">## if you find load infile errors in mysql just like this:</span><br><span class="line">## ERROR 1148 (42000): The used command is not allowed with this MySQL version</span><br><span class="line">## please grant FILE authority in Mysql just use this comman: &quot;mysql -u root -p tablename --local-infile=1&quot; to login databases;</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514141548373" alt="ctreate and copy datas1"></p>
<p><img src="http://img.blog.csdn.net/20160514141848936" alt="ctreate and copy datas2"></p>
<hr>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution 1"></a>Solution 1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">(a) SELECT name FROM play_in p, movies m</span><br><span class="line">WHERE p.mid = m.mid and m.title=’Quantum of Solace’</span><br><span class="line">ORDER BY p.cast_position;</span><br><span class="line"></span><br><span class="line">## (a) Result just like this:</span><br><span class="line"></span><br><span class="line">name</span><br><span class="line">------------------------------</span><br><span class="line">Daniel Craig</span><br><span class="line">Olga Kurylenko</span><br><span class="line">Mathieu Amalric</span><br><span class="line">Judi Dench</span><br><span class="line">Giancarlo Giannini</span><br><span class="line">Gemma Arterton</span><br><span class="line">Jeffrey Wright</span><br><span class="line">David Harbour</span><br><span class="line">Jesper Christensen</span><br><span class="line">Anatole Taubman</span><br><span class="line">Rory Kinnear</span><br><span class="line">Tim Pigott-Smith</span><br><span class="line">Fernando Guillen-Cuervo</span><br><span class="line">Jesus Ochoa</span><br><span class="line">Glenn Foster</span><br><span class="line">Paul Ritter</span><br><span class="line">Simon Kassianides</span><br><span class="line">Stana Katic</span><br><span class="line">Lucrezia Lante della Rove...</span><br><span class="line">Neil Jackson</span><br><span class="line">Oona Chaplin</span><br><span class="line">(21 rows)</span><br><span class="line"></span><br><span class="line">(b) SELECT title FROM movies</span><br><span class="line">WHERE year = 2002 and rating&gt;8 and num_ratings&gt;1;</span><br><span class="line"></span><br><span class="line">## (b) Result just like this:</span><br><span class="line">title</span><br><span class="line">---------------------------------------</span><br><span class="line">The Lord of the Rings: The Two Towers</span><br><span class="line">Cidade de Deus</span><br><span class="line">Mou gaan dou</span><br><span class="line">(3 rows)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 1 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514171442001" alt="3"></p>
<p><img src="http://img.blog.csdn.net/20160514171518586" alt="3.1"></p>
<p><img src="http://img.blog.csdn.net/20160514171555665" alt="4"></p>
<hr>
<h3 id="Solution-2"><a href="#Solution-2" class="headerlink" title="Solution 2"></a>Solution 2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">SELECT title from movies m, play_in p</span><br><span class="line">WHERE m.mid = p.mid and </span><br><span class="line">name = ’Sean Connery’ and </span><br><span class="line">cast_position = 1</span><br><span class="line">ORDER BY title;</span><br><span class="line"></span><br><span class="line">## Result just like this:</span><br><span class="line">title</span><br><span class="line">---------------------------------------</span><br><span class="line">Der Name der Rose</span><br><span class="line">Diamonds Are Forever</span><br><span class="line">Dr. No</span><br><span class="line">Entrapment</span><br><span class="line">Finding Forrester</span><br><span class="line">First Knight</span><br><span class="line">From Russia with Love</span><br><span class="line">Goldfinger</span><br><span class="line">Never Say Never Again</span><br><span class="line">The Hunt for Red October</span><br><span class="line">The League of Extraordinary Gentlemen</span><br><span class="line">Thunderball</span><br><span class="line">You Only Live Twice</span><br><span class="line">(13 rows)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 2 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514171702269" alt="5"></p>
<hr>
<h3 id="Solution-3"><a href="#Solution-3" class="headerlink" title="Solution 3"></a>Solution 3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">(a) DROP VIEW IF EXISTS WeigthedRatings;</span><br><span class="line"></span><br><span class="line">CREATE VIEW WeightedRatings AS</span><br><span class="line">SELECT name, SUM(rating*num_ratings)/SUM(num_ratings) AS WeightedRating</span><br><span class="line">FROM movies m, play_in p WHERE m.mid = p.mid GROUP BY(name);</span><br><span class="line"></span><br><span class="line">SELECT name FROM WeightedRatings</span><br><span class="line">ORDER BY</span><br><span class="line">WeightedRating DESC, name ASC LIMIT 5;</span><br><span class="line"></span><br><span class="line">## (a) Result just like this:</span><br><span class="line">name</span><br><span class="line">-----------------------</span><br><span class="line">Adam Kalesperis</span><br><span class="line">Aidan Feore</span><br><span class="line">Aleksandr Kajdanovsky</span><br><span class="line">Alexander Kaidanovsky</span><br><span class="line">Alisa Frejndlikh</span><br><span class="line">(5 rows)</span><br><span class="line"></span><br><span class="line">(b) DROP VIEW IF EXISTS ActorSumRatings;</span><br><span class="line"></span><br><span class="line">CREATE VIEW ActorSumRatings AS</span><br><span class="line">SELECT name, SUM(num_ratings) as popularity</span><br><span class="line">FROM play_in p, movies m</span><br><span class="line">WHERE p.mid = m.mid</span><br><span class="line">GROUP BY name;</span><br><span class="line"></span><br><span class="line">SELECT name from ActorSumRatings</span><br><span class="line">ORDER BY popularity DESC, name ASC LIMIT 5;</span><br><span class="line"></span><br><span class="line">## (b) Result just like this:</span><br><span class="line">name</span><br><span class="line">----------------------</span><br><span class="line">Johnny Depp</span><br><span class="line">Alan Rickman</span><br><span class="line">Orlando Bloom</span><br><span class="line">Helena Bonham Carter</span><br><span class="line">Matt Damon</span><br><span class="line">(5 rows)</span><br></pre></td></tr></table></figure>
<p>The flowing images show the test solution 3 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514171931932" alt="6"></p>
<p><img src="http://img.blog.csdn.net/20160514172008524" alt="7"></p>
<hr>
<h3 id="Solution-4"><a href="#Solution-4" class="headerlink" title="Solution 4"></a>Solution 4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW IF EXISTS RatingGap;</span><br><span class="line"></span><br><span class="line">CREATE VIEW RatingGap AS</span><br><span class="line">SELECT p1.name, MAX(ABS(m1.rating-m2.rating)) as Gap</span><br><span class="line">FROM play_in p1, play_in p2, movies m1, movies m2</span><br><span class="line">WHERE p1.mid = m1.mid and </span><br><span class="line">p2.mid = m2.mid and </span><br><span class="line">p1.name = p2.name</span><br><span class="line">GROUP BY(p1.name);</span><br><span class="line"></span><br><span class="line">SELECT name </span><br><span class="line">FROM RatingGap </span><br><span class="line">ORDER BY(Gap) DESC LIMIT 1;</span><br><span class="line"></span><br><span class="line">## Result just like this:</span><br><span class="line">name</span><br><span class="line">---------------</span><br><span class="line">John Travolta</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 4 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514172144354" alt="8.1"></p>
<p><img src="http://img.blog.csdn.net/20160514172236840" alt="8.3"></p>
<hr>
<h3 id="Solution-5"><a href="#Solution-5" class="headerlink" title="Solution 5"></a>Solution 5</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW IF EXISTS MastersMovies CASCADE;</span><br><span class="line"></span><br><span class="line">CREATE VIEW MastersMovies AS</span><br><span class="line">SELECT m.mid,m.title FROM movies m, play_in p</span><br><span class="line">WHERE m.mid = p.mid and p.name = ’Annette Nicole’;</span><br><span class="line"></span><br><span class="line">DROP VIEW IF EXISTS CoActors;</span><br><span class="line"></span><br><span class="line">CREATE VIEW CoActors AS</span><br><span class="line">SELECT DISTINCT name FROM MastersMovies m , play_in p</span><br><span class="line">WHERE p.mid = m.mid;</span><br><span class="line"></span><br><span class="line">DROP VIEW IF EXISTS Combinations;</span><br><span class="line"></span><br><span class="line">CREATE VIEW Combinations AS</span><br><span class="line">SELECT name,mid FROM MastersMovies , CoActors;</span><br><span class="line"></span><br><span class="line">DROP VIEW IF EXISTS NonExistent;</span><br><span class="line"></span><br><span class="line">CREATE VIEW NonExistent AS</span><br><span class="line">SELECT * FROM Combinations</span><br><span class="line">EXCEPT (SELECT name, mid FROM play_in);</span><br><span class="line"></span><br><span class="line">DROP VIEW IF EXISTS PotentialResults;</span><br><span class="line"></span><br><span class="line">CREATE VIEW PotentialResults AS</span><br><span class="line">SELECT * from CoActors</span><br><span class="line">EXCEPT (SELECT distinct(name) FROM NonExistent);</span><br><span class="line"></span><br><span class="line">DROP VIEW IF EXISTS NotMastersMovies;</span><br><span class="line"></span><br><span class="line">CREATE VIEW NotMastersMovies AS</span><br><span class="line">SELECT m.mid FROM movies m</span><br><span class="line">EXCEPT (SELECT mid FROM MastersMovies);</span><br><span class="line"></span><br><span class="line">SELECT * from PotentialResults</span><br><span class="line">WHERE name not in </span><br><span class="line">(SELECT name</span><br><span class="line">FROM play_in p, NotMastersMovies m</span><br><span class="line">WHERE m.mid = p.mid</span><br><span class="line">UNION SELECT ’Annette Nicole’</span><br><span class="line">) ORDER BY name;</span><br><span class="line"></span><br><span class="line">## Result just like this:</span><br><span class="line">name</span><br><span class="line">-----------------</span><br><span class="line">Christian Perry</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 5 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514172213136" alt="8.2"></p>
<hr>
<h3 id="Solution-6"><a href="#Solution-6" class="headerlink" title="Solution 6"></a>Solution 6</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW IF EXISTS MoviesPerYear;</span><br><span class="line"></span><br><span class="line">CREATE VIEW MoviesPerYear AS</span><br><span class="line">SELECT year, COUNT(title) num_movies</span><br><span class="line">FROM MOVIES GROUP BY(year);</span><br><span class="line"></span><br><span class="line">SELECT year from MoviesPerYear </span><br><span class="line">ORDER BY num_movies DESC LIMIT 2;</span><br><span class="line"></span><br><span class="line">## Result just like this:</span><br><span class="line">year</span><br><span class="line">------</span><br><span class="line">2006</span><br><span class="line">2007</span><br><span class="line">(2 rows)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 6 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514172533437" alt="9"></p>
<hr>
<h3 id="Solution-7"><a href="#Solution-7" class="headerlink" title="Solution 7"></a>Solution 7</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">(a) SELECT COUNT(*) FROM </span><br><span class="line">(SELECT DISTINCT m1.mid, m2.mid</span><br><span class="line"> FROM movies m1, movies m2, play_in p1, play_in p2</span><br><span class="line"> WHERE m1.mid &gt; m2.mid and</span><br><span class="line"> m1.mid = p1.mid and</span><br><span class="line"> m2.mid = p2.mid and </span><br><span class="line"> p1.name = p2.name) </span><br><span class="line">AS count;</span><br><span class="line"></span><br><span class="line">## (a) Result just like this:</span><br><span class="line">count</span><br><span class="line">--------</span><br><span class="line">104846</span><br><span class="line">(1 row)</span><br><span class="line"></span><br><span class="line">(b) SELECT COUNT(*) FROM </span><br><span class="line">(SELECT DISTINCT m1.mid, m2.mid</span><br><span class="line">FROM movies m1, movies m2, play_in p1,</span><br><span class="line">play_in p2, play_in p3, play_in p4</span><br><span class="line">WHERE m1.mid &gt; m2.mid and </span><br><span class="line">m1.mid = p1.mid and </span><br><span class="line">m2.mid = p2.mid and</span><br><span class="line">m1.mid = p3.mid and </span><br><span class="line">m2.mid = p4.mid and </span><br><span class="line">p2.name &lt;&gt; p4.name and </span><br><span class="line">p1.name = p2.name and </span><br><span class="line">p3.name = p4.name) </span><br><span class="line">AS count;</span><br><span class="line"></span><br><span class="line">## (b) Result just like this:</span><br><span class="line">count</span><br><span class="line">-------</span><br><span class="line">6845</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 7 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514172710419" alt="11"></p>
<hr>
<h3 id="Solution-8"><a href="#Solution-8" class="headerlink" title="Solution 8"></a>Solution 8</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW IF EXISTS Dominated;</span><br><span class="line"></span><br><span class="line">CREATE VIEW Dominated AS</span><br><span class="line">SELECT DISTINCT m2.mid, m2.title,m2.num_ratings, m2.rating</span><br><span class="line">FROM movies m1, movies m2</span><br><span class="line">WHERE m2.rating&lt;=m1.rating and m2.num_ratings&lt;=m1.num_ratings and </span><br><span class="line">NOT (m2.rating = m1.rating and m2.num_ratings=m1.num_ratings);</span><br><span class="line"></span><br><span class="line">SELECT title,num_ratings,rating </span><br><span class="line">FROM movies</span><br><span class="line">EXCEPT (SELECT title,num_ratings,rating FROM Dominated);</span><br></pre></td></tr></table></figure>
<p>The flowing image show the test solution 8 infos in my ubuntu os:</p>
<p><img src="http://img.blog.csdn.net/20160514172834435" alt="12"></p>
<hr>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html</a><br>[2] <a href="http://www.postgresql.org/docs/" target="_blank" rel="noopener">http://www.postgresql.org/docs/</a><br>[3] <a href="http://www.cs.cmu.edu/~epapalex/15415S14/PostgreSQLReadme.htm" target="_blank" rel="noopener">http://www.cs.cmu.edu/~epapalex/15415S14/PostgreSQLReadme.htm</a><br>[4] <a href="http://www.cs.cmu.edu/~christos/courses/" target="_blank" rel="noopener">http://www.cs.cmu.edu/~christos/courses/</a><br>[5] <a href="http://blog.chinaunix.net/uid-20685819-id-4267454.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-20685819-id-4267454.html</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/04/16/数据库题目整理及详解（四）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/16/数据库题目整理及详解（四）/" itemprop="url">
                  数据库题目整理及详解（四）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-04-16 18:41:50" itemprop="dateCreated datePublished" datetime="2016-04-16T18:41:50+08:00">2016-04-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Notes/" itemprop="url" rel="index"><span itemprop="name">Database Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/16/数据库题目整理及详解（四）/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/16/数据库题目整理及详解（四）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/04/16/数据库题目整理及详解（四）/" class="leancloud_visitors" data-flag-title="数据库题目整理及详解（四）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote>
<p>有多少次挥汗如雨，伤痛曾添满记忆，只因为始终相信，去拼搏才能胜利。总在鼓舞自己，要成功就得努力。热血在赛场沸腾，巨人在赛场升起。</p>
<p>相信自己，你将赢得胜利，创造奇迹；相信自己，梦想在你手中，这是你的天地。当一切过去，你们将是第一。</p>
<p>相信自己，你们将超越极限，超越自己！<br>相信自己，加油吧，健儿们，相信你自己。</p>
</blockquote>
<p>坐在中体对面, 听着这振奋激昂的加油欢呼声, 照样可以感受到校运会的气势磅礴, 虽然我还在敲代码……</p>
<p>来个这个吧, 特殊纪念, 沃夫慈悲:</p>
<p><img src="http://img.blog.csdn.net/20160416174909537" alt="沃夫慈悲"></p>
<hr>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>老生常谈! 接着之前的SQL语句继续整理, 内容参考了互联网上的很多内容, 结尾缀上出处, 感谢分享. </p>
<p>这一部分主要内容为：mysql数据库存储过程相关的SQL语句, 在书写上的格式、规范及环境配置等，详见：<a href="https://absentm.github.io/2016/04/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86%E5%8F%8A%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/">数据库题目整理及详解（一），说明部分</a> .</p>
<hr>
<h2 id="题目详情"><a href="#题目详情" class="headerlink" title="题目详情"></a>题目详情</h2><p>设某学生信息系统数据库包含如下关系:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STUDENT(ID, NAME, CLASSNO, BIRTH)</span><br></pre></td></tr></table></figure>
<p>请根据所学存储过程相关知识完成如下如下表示的功能:</p>
<p>(1)  创建数据库及 student 表,并至少插入 3 条数据;<br>(2)  创建并调用名为 sp 的存储过程,查询学生的所有信息;<br>(3)  创建并调用名为 sp1 的存储过程,向表中插入一条学生信息;<br>(4)  创建并调用名为 sp2 的存储过程,查询学生表中的最大班级号;<br>(5)  创建并调用名为 sp3 的存储过程,修改学生学号,如果学号为 1,修改为<br>     10; 否则,修改学号为 20,并查看信息表中的最大学号值;<br>(6)  创建并调用名为 sp4 的存储过程,使得学生的班级号既做输入参数又做输出参数;<br>(7)  创建并调用名为 sp5 的存储过程,根据输入的班级号,判断班级名称;<br>(8)  创建并调用名为 sp6的存储过程,根据输入的班级号,更新班级名称;</p>
<hr>
<h2 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h2><p>(1) 创建数据库及 student 表, 并至少插入 3 条数据; </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">create database procedure_test;		## 创建数据库</span><br><span class="line">use procedure_test;		## 切换至该数据库下</span><br><span class="line"></span><br><span class="line">drop table if exists student; 		## 好习惯</span><br><span class="line">create table student ( 		## 建表</span><br><span class="line">id int(11) primary key, </span><br><span class="line">name char(10)</span><br><span class="line">not null, </span><br><span class="line">classno int(11), </span><br><span class="line">birth datetime);</span><br><span class="line"></span><br><span class="line">desc student;	## 看一下表结构</span><br><span class="line"></span><br><span class="line">## 插入数据</span><br><span class="line">insert into student values(1, &apos;xiaohua&apos;, 01, &apos;1992-02-01 10:20:31&apos;);</span><br><span class="line">insert into student values(2, &apos;xiaohua1&apos;, 02, &apos;1993-05-11 20:34:35&apos;);</span><br><span class="line">insert into student values(3, &apos;xiaohua2&apos;, 03, &apos;1989-011-11 11:11:11&apos;);</span><br><span class="line"></span><br><span class="line">## 查询一下啊</span><br><span class="line">select * from student;</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416180043854" alt="1.1"></p>
<p><img src="http://img.blog.csdn.net/20160416180122942" alt="1.2"></p>
<hr>
<p>(2) 创建并调用名为 sp 的存储过程,查询学生的所有信息; </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">drop procedure if exists sp; 	## 好习惯</span><br><span class="line">create procedure sp() select * from student;  ## 建立存储过程</span><br><span class="line">call sp();		## 调用一哈</span><br><span class="line">show procedure status \G; 		## 参看一哈</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416180229183" alt="2.1"></p>
<hr>
<p>(3)创建并调用名为 sp1 的存储过程,向表中插入一条学生信息; </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">delimiter //	## 自制分隔符，防止“；”带来的意外</span><br><span class="line"></span><br><span class="line">## 接下来就和上边一样一样啦， 就不写了啊</span><br><span class="line">create procedure sp1(in id int, in name char(10), in</span><br><span class="line">classno int(11), in birth datetime ) comment &apos;insert into a value to student&apos;</span><br><span class="line">begin</span><br><span class="line">	set @id = id;</span><br><span class="line">	set @name = name;</span><br><span class="line">	set @classno = classno;set @birth = birth;</span><br><span class="line">	insert into student values(id, name, classno, birth);</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp1(4, &apos;xiaohua4&apos;, 4, &apos;2010-10-05 13:14:27&apos;)//</span><br><span class="line">select * from student//</span><br><span class="line">show procedure status \G</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416180349277" alt="3.1"></p>
<hr>
<p>(4) 创建并调用名为 sp2 的存储过程,查询学生表中的最大班级号;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create procedure sp2(out p int)</span><br><span class="line">deterministic</span><br><span class="line">begin</span><br><span class="line">	select max(classno) into p from student;</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp2(@pv)//</span><br><span class="line">select @pv//</span><br><span class="line">show procedure status \G</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416180729451" alt="4.1"></p>
<p><img src="http://img.blog.csdn.net/20160416180746780" alt="4.2"></p>
<hr>
<p>(5) 创建并调用名为 sp3 的存储过程,修改学生学号,如果学号为 1,修改为<br>10;否则,修改学号为 20,并查看信息表中的最大学号值;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">create procedure sp3(in p1 int, out p2 int)</span><br><span class="line">begin</span><br><span class="line">	if p1 = 1 then</span><br><span class="line">		set @v = 10;</span><br><span class="line">	else</span><br><span class="line">		set @v = 20;</span><br><span class="line">	end if;</span><br><span class="line">	select max(id) into p2 from student;</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp3(1, @ret)//</span><br><span class="line">select @ret;</span><br><span class="line">show procedure status \G</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416180923485" alt="5.1"></p>
<p><img src="http://img.blog.csdn.net/20160416180938923" alt="5.1"></p>
<hr>
<p>(6) 创建并调用名为 sp4 的存储过程,使得学生的班级号既做输入参数又做输<br>出参数;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">drop procedure if exists sp4//</span><br><span class="line">create procedure sp4(inout p4 int)</span><br><span class="line">begin</span><br><span class="line">	if p4 = 3 then</span><br><span class="line">		set @value = 13;</span><br><span class="line">	else</span><br><span class="line">		set @value = 14;</span><br><span class="line">	end if;</span><br><span class="line">	select @value;</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp4(@result)//</span><br><span class="line">set @result = 4//</span><br><span class="line">call sp4(@result)//</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416181115561" alt="6.1"></p>
<p><img src="http://img.blog.csdn.net/20160416181128124" alt="6.2"></p>
<hr>
<p>(7) 创建并调用名为 sp5 的存储过程,根据输入的班级号,判断班级名称;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">drop procedure if exists sp5//</span><br><span class="line"></span><br><span class="line">## 眼尖的童鞋可能会看到，这里加了一步操作， 为了弥补第一题所犯的错，表结构忘记建立该属性了</span><br><span class="line">alter table student add classname char(11)//  </span><br><span class="line"></span><br><span class="line">create procedure sp5(in classno int, out classname char(11))</span><br><span class="line">begin</span><br><span class="line">	if classno = 1 then</span><br><span class="line">		set classname = &apos;firstclass&apos;;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	if classno = 2 then</span><br><span class="line">		set classname = &apos;secondclass&apos;;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	if classno = 3 then</span><br><span class="line">		set classname = &apos;thirdclass&apos;;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	if classno = 4 then</span><br><span class="line">		set classname = &apos;fourthclass&apos;;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	select * from student;</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp5(2, @ret)//</span><br><span class="line">select @ret;</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416181327234" alt="7.1"></p>
<p><img src="http://img.blog.csdn.net/20160416181338959" alt="7.2"></p>
<p><img src="http://img.blog.csdn.net/20160416181354640" alt="7.3"></p>
<hr>
<p>(8) 创建并调用名为 sp5 的存储过程,根据输入的班级号,更新班级名称;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">## 错误总是无独有偶， 显然！这步是弥补上步未完成的任务</span><br><span class="line">create procedure sp6(in classno int)</span><br><span class="line">begin</span><br><span class="line">	if classno = 1 then</span><br><span class="line">		update student set classname = &apos;firstclass&apos; where id=1;</span><br><span class="line">	end if;</span><br><span class="line"></span><br><span class="line">	if classno = 2 thenupdate student set classname =     &apos;secondclass&apos; where id=2;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	if classno = 3 then</span><br><span class="line">		update student set classname = &apos;thirdclass&apos; where id=3;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	if classno = 4 then</span><br><span class="line">		update student set classname = &apos;fourthclass&apos; where id=4;</span><br><span class="line">	end if;</span><br><span class="line">	</span><br><span class="line">	select * from student;</span><br><span class="line">end//</span><br><span class="line"></span><br><span class="line">call sp6(1)//</span><br><span class="line">call sp6(2)//</span><br><span class="line">call sp6(3)//</span><br><span class="line">call sp6(4)//</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160416182334410" alt="8.1"></p>
<p><img src="http://img.blog.csdn.net/20160416182347504" alt="8.2"></p>
<hr>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1]. <a href="http://www.cnblogs.com/zhuawang/p/4185302.html" target="_blank" rel="noopener">http://www.cnblogs.com/zhuawang/p/4185302.html</a><br>[2]. <a href="http://blog.csdn.net/woshixuye/article/details/8348180" target="_blank" rel="noopener">http://blog.csdn.net/woshixuye/article/details/8348180</a><br>[3]. <a href="http://www.2cto.com/database/201408/327315.html" target="_blank" rel="noopener">http://www.2cto.com/database/201408/327315.html</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/04/05/数据库题目整理及详解（三）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/05/数据库题目整理及详解（三）/" itemprop="url">
                  数据库题目整理及详解（三）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-04-05 20:11:26" itemprop="dateCreated datePublished" datetime="2016-04-05T20:11:26+08:00">2016-04-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Notes/" itemprop="url" rel="index"><span itemprop="name">Database Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/05/数据库题目整理及详解（三）/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/05/数据库题目整理及详解（三）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/04/05/数据库题目整理及详解（三）/" class="leancloud_visitors" data-flag-title="数据库题目整理及详解（三）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>—李冠《蝶恋花·春暮》</p>
<blockquote>
<p>遥夜亭皋闲信步。<br>才过清明，渐觉伤春暮。<br>数点雨声风约住。朦胧淡月云来去。</p>
<p>桃杏依稀香暗渡。<br>谁在秋千，笑里轻轻语。<br>一寸相思千万绪。人间没个安排处。</p>
</blockquote>
<p>大早, 喜见枯草堆中顽强的四叶草:</p>
<p><img src="http://img.blog.csdn.net/20160405180856569" alt="枯草堆中顽强的四叶草"></p>
<hr>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>接着之前的SQL语句继续整理, 内容大多参考了互联网上的很多内容, 好多都相似, 结尾缀上出处, 感谢分享. 这一部分内容, 在mysql中也亲自测试了, 带有截图.</p>
<p>这一部分主要内容为：mysql数据库改变表结构相关的SQL语句, 在书写上的格式、规范及环境配置等，详见：<a href="https://absentm.github.io/2016/04/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86%E5%8F%8A%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/">数据库题目整理及详解（一），说明部分 </a> .</p>
</blockquote>
<hr>
<h2 id="题目详情"><a href="#题目详情" class="headerlink" title="题目详情"></a>题目详情</h2><ol>
<li>设某图书馆借阅系统数据库包含如下关系:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">T_CARD(Cno, Cname, Class)</span><br><span class="line">T_BOOKS(Bno, Bname, Author, Price, Quantity)</span><br><span class="line">T_BORROW(Cno, Bno, Rdate)</span><br><span class="line"></span><br><span class="line">Cno, Cname, Class 分别表示借书卡的卡号、名称和所在班级;</span><br><span class="line">Bno, Bname, Author, Price, Quantity 分别表示图书的编号、名称、作者、价格和数量;</span><br><span class="line">Cno, Bno, Rdate 分别表示借阅条目的借书卡号、图书编号和还书日期。请使用 SQL 语句表示如下功能:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(1)  写出建立该数据库表的 SQL 语句,要求定义主码完整性约束和引用完整性约束。</span><br><span class="line">(2)  找出借书超过 3 本的读者,输出借书卡号及所借图书册数。</span><br><span class="line">(3)  查询借阅了&quot;Chinese Book&quot;一书的读者,输出姓名及班级。</span><br><span class="line">(4)  查询过期未还图书,输出借阅者(卡号)、书号及还书日期。</span><br><span class="line">(5)  查询书名包括&quot;Chinese&quot;关键词的图书,输出书号、书名、作者。</span><br><span class="line">(6)  查询现有图书中价格最高的图书,输出书名及作者。</span><br><span class="line">(7)  查询当前借了&quot;Chinese Book&quot;但没有借&quot;English Book&quot;的读者,</span><br><span class="line">     输出其借书卡号,并按卡号降序排序输出。</span><br><span class="line">(8)  将&quot;class_1&quot;班同学所借图书的还期都延长一周。</span><br><span class="line">(9)  从 T_BOOKS 表中删除当前无人借阅的图书记录。</span><br><span class="line">(10) 如果经常按书名查询图书信息,请建立合适的索引。</span><br><span class="line">(11) 在 BORROW 表上建立一个触发器,完成如下功能:</span><br><span class="line">     如果读者借阅的书名是&quot;Computer Book&quot;, 就将该读者的借阅记录</span><br><span class="line">     保存在 BORROW_SAVE 表中(注ORROW_SAVE表结构同 BORROW 表)。</span><br><span class="line">(12) 建立一个视图,显示&quot;力 01&quot;班学生的借书信息(只要求显示姓名和书名)。</span><br><span class="line">(13) 查询当前同时借有&quot;Computer Book&quot;和&quot;Math Book&quot;两本书的读者,</span><br><span class="line">     输出其借书卡号,并按卡号升序排序输出。</span><br><span class="line">(14) 假定在建BOOKS表时没有定义主码,写出为BOOKS表追加定义主码的语句。</span><br><span class="line">(15) 对 CARD 表做如下修改:</span><br><span class="line">	 a. 将 NAME 最大列宽增加到10个字符(假定原为6个字符);</span><br><span class="line">	 b. 为该表增加1列NAME(系名), 可变长, 最大20个字符。</span><br></pre></td></tr></table></figure>
<h2 id="解前初始化"><a href="#解前初始化" class="headerlink" title="解前初始化"></a>解前初始化</h2><p>1&gt;, 创建表结构:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create database books;         ## 创建名为：books的数据库</span><br><span class="line">use books;                     ## 使用emp数据库</span><br><span class="line"></span><br><span class="line">## 创建t_card表</span><br><span class="line">create table t_card (cno int(10) primary key, name varchar(100), class varchar(100));           </span><br><span class="line"></span><br><span class="line">## 创建t_books表</span><br><span class="line">create table t_books (bno int(10) primary key, bname varchar(100), author varchar(100), price numeric(10,2), quantity int(10));					     </span><br><span class="line"></span><br><span class="line">## 创建t_books表</span><br><span class="line">create table t_borrow (cno int(10), bno int(10), rdate date);</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160405183025452" alt="create_table"></p>
<hr>
<p>2&gt;,  完善表结构:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">## 添加主键(t_borrow表)</span><br><span class="line">alter table t_borrow add constraint borrow_pk primary key (cno, bno);</span><br><span class="line"></span><br><span class="line">## 添加外键(t_borrow表)</span><br><span class="line">alter table t_borrow add constraint borrow_fk_cno foreign key (cno) references t_card(cno);</span><br><span class="line"></span><br><span class="line">alter table t_borrow add constraint borrow_fk_bno foreign key (bno) references t_books(bno);</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160405192543536" alt="修改表结构"></p>
<p><img src="http://img.blog.csdn.net/20160405192710364" alt="desc显示表结构"></p>
<hr>
<p>3&gt;,  插入数据:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">## 向t_card插入9条数据</span><br><span class="line">insert into t_card values(1, &apos;bryant&apos;, &apos;class_1&apos;);</span><br><span class="line">insert into t_card VALUES(2, &apos;foxus&apos;, &apos;class_1&apos;);</span><br><span class="line">insert into T_CARD VALUES(3, &apos;ennel&apos;, &apos;class_2&apos;);</span><br><span class="line">insert into T_CARD VALUES(4, &apos;keliy&apos;, &apos;class_3&apos;);</span><br><span class="line">insert into t_card VALUES(3, &apos;ennel&apos;, &apos;class_2&apos;);</span><br><span class="line">insert into t_card VALUES(4, &apos;keliy&apos;, &apos;class_3&apos;);</span><br><span class="line">insert into T_CARD VALUES(5, &apos;cinal&apos;, &apos;class_2&apos;);</span><br><span class="line">insert into t_card VALUES(6, &apos;oopp&apos;, &apos;class_3&apos;);</span><br><span class="line">insert into t_card VALUES(5, &apos;cinal&apos;, &apos;class_2&apos;);</span><br><span class="line">select * from t_card;</span><br><span class="line"></span><br><span class="line">## 向t_books插入10条数据</span><br><span class="line">insert into t_books values (1, &apos;Chinese Book&apos;, &apos;Mr.mao&apos;, 35.8, 20);</span><br><span class="line">insert into t_books values (2, &apos;Math Book&apos;, &apos;Mr.xiao&apos;, 55.4, 20);</span><br><span class="line">insert into t_books values (3, &apos;English Book&apos;, &apos;Mr.li&apos;, 22.6, 20);</span><br><span class="line">insert into t_books values (4, &apos;Computer Book&apos;, &apos;Mr.yang&apos;, 78.8, 15);</span><br><span class="line">insert into t_books values (5, &apos;Music Book&apos;, &apos;Mr.wang&apos;, 25.3, 15);</span><br><span class="line">insert into t_books values (6, &apos;History Book&apos;, &apos;Mr.mao&apos;, 40.8, 12);</span><br><span class="line">insert into t_books values (7, &apos;Physics Book&apos;, &apos;Mr.tang&apos;, 46.6, 10);</span><br><span class="line">insert into t_books values (8, &apos;Chemistry Book&apos;, &apos;Mr.zou&apos;, 33.9, 10);</span><br><span class="line">insert into t_books values (9, &apos;Biology Book&apos;, &apos;Mr.tu&apos;, 23, 10);</span><br><span class="line">insert into t_books values (10, &apos;Political Book&apos;, &apos;Mr.ke&apos;, 36.2, 10);</span><br><span class="line">select * from t_books</span><br><span class="line"></span><br><span class="line">## 向t_borrow插入23条数据</span><br><span class="line">insert into t_borrow values(1, 1, &apos;2015-5-21&apos;);</span><br><span class="line">insert into t_borrow values(2, 1, &apos;2015-5-21&apos;);</span><br><span class="line">insert into t_borrow values(3, 3, &apos;2015-5-28&apos;);</span><br><span class="line">insert into t_borrow values(4, 8, &apos;2015-6-21&apos;);</span><br><span class="line">insert into t_borrow values(5, 4, &apos;2015-5-11&apos;);</span><br><span class="line">insert into t_borrow values(6, 10, &apos;2015-5-31&apos;);</span><br><span class="line">insert into t_borrow values(1, 9, &apos;2015-6-10&apos;);</span><br><span class="line">insert into t_borrow values(2, 3, &apos;2015-7-2&apos;);</span><br><span class="line">insert into t_borrow values(3, 5, &apos;2015-6-5&apos;);</span><br><span class="line">insert into t_borrow values(4, 6, &apos;2015-6-2&apos;);</span><br><span class="line">insert into t_borrow values(5, 9, &apos;2015-5-22&apos;);</span><br><span class="line">insert into t_borrow values(6, 1, &apos;2015-6-1&apos;);</span><br><span class="line">insert into t_borrow values(1, 3, &apos;2015-6-1&apos;);</span><br><span class="line">insert into t_borrow values(2, 4, &apos;2015-6-15&apos;);</span><br><span class="line">insert into t_borrow values(3, 8, &apos;2015-5-15&apos;);</span><br><span class="line">insert into t_borrow values(4, 10, &apos;2015-6-22&apos;);</span><br><span class="line">insert into t_borrow values(5, 7, &apos;2015-6-13&apos;);</span><br><span class="line">insert into t_borrow values(6, 6, &apos;2015-5-18&apos;);</span><br><span class="line">insert into t_borrow values(1, 8, &apos;2015-5-19&apos;);</span><br><span class="line">insert into t_borrow values(2, 9, &apos;2015-5-20&apos;);</span><br><span class="line">insert into t_borrow values(3, 6, &apos;2015-6-15&apos;);</span><br><span class="line">insert into t_borrow values(4, 2, &apos;2015-6-15&apos;);</span><br><span class="line">insert into t_borrow values(5, 2, &apos;2015-6-15&apos;);</span><br><span class="line">select * from t_borrow;</span><br></pre></td></tr></table></figure>
<p>运行截图:</p>
<p><img src="http://img.blog.csdn.net/20160405193127882" alt="card_values"></p>
<p><img src="http://img.blog.csdn.net/20160405193155663" alt="books_values"></p>
<p><img src="http://img.blog.csdn.net/20160405193210741" alt="borrow_values1"></p>
<p><img src="http://img.blog.csdn.net/20160405193230866" alt="borrow_values2"></p>
<hr>
<h2 id="题目详解"><a href="#题目详解" class="headerlink" title="题目详解"></a>题目详解</h2><p>1)  写出建立该数据库表的 SQL 语句,要求定义主码完整性约束和引用完整性约束。</p>
<blockquote>
<p>见前部分的解前初始化内容.</p>
</blockquote>
<hr>
<p>2)  找出借书超过 3 本的读者,输出借书卡号及所借图书册数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select cno, count(*) cs from t_borrow br group by cno having count(*) &gt; 3;</span><br></pre></td></tr></table></figure>
<hr>
<p>3) 查询借阅了”Chinese Book”一书的读者,输出姓名及班级。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select c.cno, c.name cname, c.class classname </span><br><span class="line">from t_card c, t_books b, t_borrow bo </span><br><span class="line">where c.cno=bo.cno and </span><br><span class="line">      b.bno=bo.bno and </span><br><span class="line">	  b.bname=&apos;Chinese Book&apos;;</span><br></pre></td></tr></table></figure>
<hr>
<p>4) 查询过期未还图书,输出借阅者(卡号)、书号及还书日期。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select cno, bno, rdate from t_borrow where rdate &lt; current_date();</span><br><span class="line">## 注意:current_date()函数是当前日期, 相当于oracle中的sysdate.</span><br></pre></td></tr></table></figure>
<hr>
<p>附上2 ~ 4 运行截图:</p>
<p><img src="http://img.blog.csdn.net/20160405194035135" alt="2-4"></p>
<hr>
<p>5) 查询书名包括”Chinese”关键词的图书,输出书号、书名、作者。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select bno, bname, author from t_books where bname like &apos;%Chinese%&apos;;</span><br></pre></td></tr></table></figure>
<hr>
<p>6) 查询现有图书中价格最高的图书,输出书名及作者。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select bname, author from t_books where price =(select max(price) from t_books);</span><br></pre></td></tr></table></figure>
<hr>
<p>7) 查询当前借了”Chinese Book”但没有借”English Book”的读者,输出其借书<br>卡号,并按卡号降序排序输出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">select cno </span><br><span class="line">from t_borrow br2 </span><br><span class="line">where exists (</span><br><span class="line">	select cno </span><br><span class="line">	from t_borrow br, t_books b </span><br><span class="line">	where b.bname=&apos;Chinese Book&apos; and </span><br><span class="line">		  br.bno=b.bno and </span><br><span class="line">		  br.cno=br2.cno) and </span><br><span class="line">		  not exists (</span><br><span class="line">			  select cno </span><br><span class="line">			  from t_borrow br, t_books b </span><br><span class="line">			  where b.bname=&apos;English Book&apos; and </span><br><span class="line">				  br.bno=b.bno and </span><br><span class="line">				  br.cno=br2.cno) </span><br><span class="line">group by cno </span><br><span class="line">order by cno desc;</span><br></pre></td></tr></table></figure>
<hr>
<p>8) 将”class_1”班同学所借图书的还期都延长一周。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">update t_borrow br set br.rdate=br.rdate + 7 </span><br><span class="line">where exists (</span><br><span class="line">	select cno </span><br><span class="line">	from t_card </span><br><span class="line">	where class=&apos;class_1&apos; and cno=br.cno);  </span><br><span class="line"></span><br><span class="line">## 查看一下更新详情	</span><br><span class="line">select * from t_borrow;</span><br></pre></td></tr></table></figure>
<p>附上5 ~ 8 截图:</p>
<p><img src="http://img.blog.csdn.net/20160405194720575" alt="5-8"></p>
<hr>
<p>9) 从 T_BOOKS 表中删除当前无人借阅的图书记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">delete from t_books </span><br><span class="line">where t_books.bno not in (</span><br><span class="line">	select distinct c.bno from t_borrow c);</span><br><span class="line"></span><br><span class="line">## 注意: 如果使用not exist语句将会产生如下错误提示:</span><br><span class="line">ERROR 1093 (HY000): You can&apos;t specify target table &apos;t_books&apos; for update in FROM clause , 推荐使用in语句.</span><br></pre></td></tr></table></figure>
<hr>
<p>10) 如果经常按书名查询图书信息,请建立合适的索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create index index_t_books_name on t_books(bname);</span><br></pre></td></tr></table></figure>
<hr>
<p>11) 在 BORROW 表上建立一个触发器, 完成如下功能:如果读者借阅的书名是”Computer Book”, 就将该读者的借阅记录保存在 BORROW_SAVE 表中(注ORROW_SAVE 表结构同 BORROW 表) 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">## 先创建t_borrow_save表</span><br><span class="line">create table t_borrow_save(cno int(10), bno int(10), rdate date);</span><br><span class="line"></span><br><span class="line">## 创建触发器</span><br><span class="line">create or replace trigger trg_borrow </span><br><span class="line">after insert </span><br><span class="line">on t_borrow </span><br><span class="line">for each row </span><br><span class="line">	begin </span><br><span class="line">		if :new.bno=4 </span><br><span class="line">		then  </span><br><span class="line">			insert into t_borrow_save(cno, bno, rdate)</span><br><span class="line">			values(:new.cno, :new.bno, :new.rdate); </span><br><span class="line">		end if;</span><br><span class="line">	end;</span><br><span class="line"></span><br><span class="line">## 删除触发器</span><br><span class="line">drop trigger trg_borrow;</span><br><span class="line"></span><br><span class="line">## 注意此处, 在oracle数据运行通过.</span><br></pre></td></tr></table></figure>
<p>附上9 ~ 11 运行截图:</p>
<p><img src="http://img.blog.csdn.net/20160405195858345" alt="9-11"></p>
<hr>
<p>12) 建立一个视图,显示”力 01”班学生的借书信息(只要求显示姓名和书名)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create view view_t_borrow as</span><br><span class="line">select c.name cname, b.bname bname</span><br><span class="line">from t_borrow br, t_card c, t_books b</span><br><span class="line">where br.cno=c.cno and </span><br><span class="line">	br.bno=b.bno and c.class=&apos;class_1&apos;;</span><br><span class="line"></span><br><span class="line">## 显示结果</span><br><span class="line">select * from view_t_borrow;</span><br></pre></td></tr></table></figure>
<hr>
<p>13) 查询当前同时借有”Computer Book”和”Math Book”两本书的读者,输出其借书卡号,并按卡号升序排序输出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select a.cno </span><br><span class="line">from t_borrow a, t_books b</span><br><span class="line">where a.bno=b.bno and b.bname in (&apos;Computer Book&apos;, &apos;Math Book&apos;)</span><br><span class="line">group by a.cno having count(*)=2 </span><br><span class="line">order by a.cno desc;</span><br></pre></td></tr></table></figure>
<hr>
<p>14) 假定在建 BOOKS 表时没有定义主码,写出为 BOOKS 表追加定义主码的语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table t_books </span><br><span class="line">add constraint pk_t_books primary key (bno);</span><br></pre></td></tr></table></figure>
<hr>
<p>15) 对 CARD 表做如下修改:</p>
<blockquote>
<p>a. 将 NAME 最大列宽增加到 10 个字符(假定原为 6 个字符);<br>b. 为该表增加 1 列 NAME(系名),可变长,最大 20 个字符。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table t_card modify name varchar(50);</span><br><span class="line">alter table t_card add name1 varchar(20);</span><br><span class="line">alter table t_Card drop column name1;</span><br></pre></td></tr></table></figure>
<p> 附上12 ~ 15运行截图:</p>
<p><img src="http://img.blog.csdn.net/20160405200932709" alt="12-15"></p>
<hr>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1]. <a href="http://blog.csdn.net/tu451953337/article/details/45190849" target="_blank" rel="noopener">http://blog.csdn.net/tu451953337/article/details/45190849</a><br>[2]. <a href="http://mrxiong.blog.51cto.com/287318/1651098/" target="_blank" rel="noopener">http://mrxiong.blog.51cto.com/287318/1651098/</a><br>[3]. <a href="http://blog.csdn.net/jeamking/article/details/5953986" target="_blank" rel="noopener">http://blog.csdn.net/jeamking/article/details/5953986</a><br>[4]. <a href="http://blog.163.com/yang_jianli/blog/static/1619900062011282225274/" target="_blank" rel="noopener">http://blog.163.com/yang_jianli/blog/static/1619900062011282225274/</a><br>[5]. <a href="http://www.111cn.net/database/mysql/36105.htm" target="_blank" rel="noopener">http://www.111cn.net/database/mysql/36105.htm</a><br>[6]. <a href="http://blog.csdn.net/wjeson/article/details/17166205" target="_blank" rel="noopener">http://blog.csdn.net/wjeson/article/details/17166205</a><br>[7]. <a href="http://www.cnblogs.com/zzwlovegfj/archive/2012/07/04/2576989.html" target="_blank" rel="noopener">http://www.cnblogs.com/zzwlovegfj/archive/2012/07/04/2576989.html</a><br>[8]. <a href="http://www.jb51.net/article/49207.htm" target="_blank" rel="noopener">http://www.jb51.net/article/49207.htm</a> </p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/04/03/数据库题目整理及详解（二）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/03/数据库题目整理及详解（二）/" itemprop="url">
                  数据库题目整理及详解（二）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-04-03 12:03:29" itemprop="dateCreated datePublished" datetime="2016-04-03T12:03:29+08:00">2016-04-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Notes/" itemprop="url" rel="index"><span itemprop="name">Database Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/03/数据库题目整理及详解（二）/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/03/数据库题目整理及详解（二）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/04/03/数据库题目整理及详解（二）/" class="leancloud_visitors" data-flag-title="数据库题目整理及详解（二）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>— 吴文英: 风入松·听风听雨过清明</p>
<blockquote>
<p>听风听雨过清明，愁草瘗花铭。楼前绿暗分携路，一丝柳，一寸柔情。料峭春寒中酒，交加晓梦啼莺。</p>
<p>西园日日扫林亭，依旧赏新晴。黄蜂频扑秋千索，有当时、纤手香凝。惆怅双鸳不到，幽阶一夜苔生。</p>
</blockquote>
<p>今早晚起，来到实验室大门紧闭，暗光尤凉啊，窗帘落幕，显得格外清幽；于是乎，接着昨天的数据库题目继续整理，享受这片刻安宁……</p>
<hr>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>这部分和前一片博文内容一样，在书写上的格式、规范及环境配置等，详见：<a href="https://absentm.github.io/2016/04/02/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86%E5%8F%8A%E8%AF%A6%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/">数据库题目整理及详解（一），说明部分</a> 。</p>
</blockquote>
<blockquote>
<p>这一部分主要内容为：mysql数据库<strong>权限</strong>相关的SQL语句。</p>
</blockquote>
<hr>
<h2 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h2><p>2.考虑如下关系模式:</p>
<blockquote>
<p>Employee(Eno, Ename, Birthday, Title, Salary, Dno)<br>Department(Dno, Dname, MgrNo, Address, Phone)</p>
</blockquote>
<p>使用 SQL 提供的功能完成如下授权:</p>
<p>(1) 允许 WangLan 对两个关系进行任何操作,并可以将他的权限转授他人。<br>(2) 允许所有用户查询 Department 关系。<br>(3) 允许所有用户查询 Employee 关系的 Salary 属性进行修改。<br>(4) 允许 LiYong 对 Employee 关系的 Salary 属性进行修改。<br>(5) 允许 ShangHua 查询每个部门的最低、最高和平均工资。<br>(6) 定义一个角色 Secretary,可以对 Department 进行任何操作,对 Employee<br>      除了不能修改 Salary 属性值之外,可以进行任何操作。<br>(7) LiHua 是秘书,拥有角色 Secretary 的权限。<br>(8) 回收(1)-(4)的权限。<br>(9) 不允许角色 Secretary 修改 Employee 的 Title 属性值。</p>
<hr>
<h3 id="初始化-创建数据库、建表、插入数据"><a href="#初始化-创建数据库、建表、插入数据" class="headerlink" title="初始化: 创建数据库、建表、插入数据"></a>初始化: 创建数据库、建表、插入数据</h3><p>1， 创建数据库：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create database emp;         ## 创建名为：emp的数据库</span><br><span class="line">use emp;                     ## 使用emp数据库</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20160403114558171" alt="创建数据库"></p>
<p>2， 创建department数据表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table department (    ## 创建department表</span><br><span class="line">dno char(8) primary key,</span><br><span class="line">dname char(16) not null,</span><br><span class="line">mgrno int, </span><br><span class="line">address char(36),</span><br><span class="line">phone char(11));</span><br></pre></td></tr></table></figure>
<p>注意到，在创建department表时，最后一个属性phone当时错误写为：phont了（详见配图），修改表属性使用如下操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## 修改写错的表属性：phone</span><br><span class="line">alter table department change phont phone char(11);  </span><br><span class="line"></span><br><span class="line">## 查看表结构</span><br><span class="line">desc department;</span><br></pre></td></tr></table></figure>
<p>3， 在department表中插入数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert into department (dno, dname, mgrno, address, phone) values (&apos;d0001&apos;, &apos;dname001&apos;, &apos;mgrno01&apos;, &apos;add001&apos;, &apos;18839952431&apos;);</span><br><span class="line"></span><br><span class="line">insert into department (dno, dname, mgrno, address, phone) values (&apos;d0002&apos;, &apos;dname002&apos;, &apos;mgrno02&apos;, &apos;add002&apos;, &apos;18238952440&apos;);</span><br><span class="line"></span><br><span class="line">insert into department (dno, dname, mgrno, address, phone) values (&apos;d0003&apos;, &apos;dname003&apos;, &apos;mgrno03&apos;, &apos;add003&apos;, &apos;18738992450&apos;);</span><br><span class="line"></span><br><span class="line">select * from department;     ## 查看一下插入的数据</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160403114646296" alt="department插入数据1"></p>
<p><img src="http://img.blog.csdn.net/20160403114713969" alt="department插入数据2"></p>
<p>4， 创建employee数据表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table employee (</span><br><span class="line">eno char(8) not null,</span><br><span class="line">ename char(16) not null,</span><br><span class="line">birthday date,</span><br><span class="line">title char(22),</span><br><span class="line">salary int,</span><br><span class="line">dno char(8),</span><br><span class="line">primary key (eno),</span><br><span class="line">FOREIGN KEY (dno) REFERENCES department(dno));</span><br></pre></td></tr></table></figure>
<p>5，在employee表中插入数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert into employee (eno, ename, birthday, title, salary, dno) values (&apos;e0001&apos;, &apos;wanglan&apos;, &apos;1992-02-04&apos;, &apos;jingli&apos;, 8000, &apos;d0001&apos;);</span><br><span class="line"></span><br><span class="line">insert into employee (eno, ename, birthday, title, salary, dno) values (&apos;e0002&apos;, &apos;liyong&apos;, &apos;1989-03-14&apos;, &apos;guanliyuan&apos;, 10000, &apos;d0002&apos;);</span><br><span class="line"></span><br><span class="line">insert into employee (eno, ename, birthday, title, salary, dno) values (&apos;e0003&apos;, &apos;shanghua&apos;, &apos;1988-10-18&apos;, &apos;cto&apos;, 20000, &apos;d0003&apos;);</span><br><span class="line"></span><br><span class="line">select * from employee;     ## 查看一下插入的数据</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160403114806156" alt="employee插入数据"></p>
<p>6，添加用到的用户：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">## 添加数据库用户：wanglan</span><br><span class="line">insert into mysql.user(host, user, password) values(&apos;localhost&apos;, &apos;wanglan&apos;, password(&apos;wanglan123&apos;));</span><br><span class="line"></span><br><span class="line">## 添加数据库用户：liyong</span><br><span class="line">insert into mysql.user(host, user, password) values(&apos;localhost&apos;, &apos;liyong&apos;, password(&apos;liyong123&apos;));</span><br><span class="line"></span><br><span class="line">## 添加数据库用户：shanghua</span><br><span class="line">insert into mysql.user(host, user, password) values(&apos;localhost&apos;, &apos;shanghua&apos;, password(&apos;shanghua123&apos;));</span><br><span class="line"></span><br><span class="line">## 注意mysql.user表的host字段，若值为：localhost，表示本地用户；</span><br><span class="line">若值为：%，表示外网用户；</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160403114921047" alt="添加用户"></p>
<p><img src="http://img.blog.csdn.net/20160403114943657" alt="查看添加的用户详情"></p>
<p>到这里先前的准备工作就做完了…… </p>
<hr>
<h3 id="题目解答"><a href="#题目解答" class="headerlink" title="题目解答"></a>题目解答</h3><p>这里再次贴一下题目内容吧:</p>
<p>(1) 允许 WangLan 对两个关系进行任何操作, 并可以将他的权限转授他人。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on emp.* to wanglan@localhost identified by &apos;wanglan123&apos; with grant option;</span><br><span class="line"></span><br><span class="line">## 注意mysql中要严格添加完整的操作哪个数据库的哪个表, 并且用户需要缀上host主机号, 如上:wanglan@localhost 或 wanglan@&apos;%&apos;外网用户.</span><br></pre></td></tr></table></figure>
<p>(2) 允许所有用户查询 Department 关系。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select on emp.department to public;</span><br></pre></td></tr></table></figure>
<p>(3) 允许所有用户查询 Employee 关系的 Salary 属性进行修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## 我们需要在 employee 上创建一个视图 emp_view:</span><br><span class="line">create view emp_view as select ename, title, dno from employee;</span><br><span class="line"></span><br><span class="line">## 然后,将emp_view上的查询权限授予所有用户:</span><br><span class="line">grant select on emp_view to public;</span><br></pre></td></tr></table></figure>
<p>(4) 允许 LiYong 对 Employee 关系的 Salary 属性进行修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## 注意, 更新用户权限后,应该刷新一下权限列表:</span><br><span class="line">flush privileges; </span><br><span class="line"></span><br><span class="line">grant update(salary) on table emp.employee to liyong@localhost;</span><br></pre></td></tr></table></figure>
<p>附上1 ~ 4题目截图:</p>
<p><img src="http://img.blog.csdn.net/20160403115306971" alt="1-4"></p>
<hr>
<p>(5) 允许 ShangHua 查询每个部门的最低、最高和平均工资。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## 我们需要在 employee 上创建一个视图 deptsalary:</span><br><span class="line">create view deptsalary as select dname, min(salary) minsalary, max(salary) maxsalary, avg(salary) avgsalary from employee e, department d where e.dno=d.dno group by dname;</span><br><span class="line"></span><br><span class="line">## 然后,将deptsalary上的查询权限授予所有用户:</span><br><span class="line">grant select on deptsalary to shanghua@localhost;</span><br></pre></td></tr></table></figure>
<p>(6) 定义一个角色 Secretary,可以对 Department 进行任何操作,对 Employee<br>除了不能修改 Salary 属性值之外,可以进行任何操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">## 首先创建一个角色 Secretary:</span><br><span class="line">CREATE ROLE Secretary;</span><br><span class="line"></span><br><span class="line">## 然后,对角色 Secretary 授权:</span><br><span class="line">GRANT ALL PRIVILIGES ON Department TO Secretary;</span><br><span class="line">GRANT SELECT, DELETE ON Employee TO Secretary;</span><br><span class="line">GRANT UPDATE(Eno, Ename, Birthday, Title, Dno)</span><br><span class="line">ON TABLE Employee TO Secretary;</span><br><span class="line"></span><br><span class="line">## 注意,mysql数据库并不需要配置**角色**, 一般都是通过创建用户分配权限完成, 这里给出的时SQL SERVICE版的写法.</span><br></pre></td></tr></table></figure>
<p>(7) LiHua 是秘书,拥有角色 Secretary 的权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT Secretary TO Lihua;</span><br></pre></td></tr></table></figure>
<p>(8) 回收(1) - (4)的权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">revoke all privileges on emp.* from wanglan@localhost;</span><br><span class="line"></span><br><span class="line">revoke select on table emp.department from public;</span><br><span class="line"></span><br><span class="line">revoke select on table emp_view from public;</span><br><span class="line"></span><br><span class="line">revoke update(salary) on table emp.employee from liyong@localhost;</span><br><span class="line"></span><br><span class="line">## 注意所有的内容都要书写完整.</span><br></pre></td></tr></table></figure>
<p>(9) 不允许角色 Secretary 修改 Employee 的 Title 属性值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## SQL SERVICE版写法</span><br><span class="line">REVOKE UPDATE(Title) ON TABLE Employee FROM Secretary;</span><br></pre></td></tr></table></figure>
<p>附上5 ~ 9 的亲测截图:</p>
<p><img src="http://img.blog.csdn.net/20160403120120161" alt="5-9"> </p>
<hr>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1]. <a href="http://www.blogjava.net/etlan/archive/2007/07/12/129794.html" target="_blank" rel="noopener">http://www.blogjava.net/etlan/archive/2007/07/12/129794.html</a><br>[2]. <a href="http://blog.163.com/xychenbaihu@yeah/blog/static/13222965520113353229427/" target="_blank" rel="noopener">http://blog.163.com/xychenbaihu@yeah/blog/static/13222965520113353229427/</a><br>[3]. <a href="http://www.linuxidc.com/Linux/2014-09/107422.htm" target="_blank" rel="noopener">http://www.linuxidc.com/Linux/2014-09/107422.htm</a><br>[4]. <a href="http://www.cnblogs.com/fslnet/p/3143344.html" target="_blank" rel="noopener">http://www.cnblogs.com/fslnet/p/3143344.html</a><br>[5]. <a href="http://my.oschina.net/wojibuzhu/blog/229094" target="_blank" rel="noopener">http://my.oschina.net/wojibuzhu/blog/229094</a><br>[6]. <a href="http://www.cnblogs.com/wanghetao/p/3806888.html" target="_blank" rel="noopener">http://www.cnblogs.com/wanghetao/p/3806888.html</a><br>[7]. <a href="http://www.2cto.com/database/201506/409608.html" target="_blank" rel="noopener">http://www.2cto.com/database/201506/409608.html</a><br>[8]. <a href="http://database.51cto.com/art/201011/234543.htm" target="_blank" rel="noopener">http://database.51cto.com/art/201011/234543.htm</a><br>[9]. <a href="http://blog.csdn.net/andy_yf/article/details/7487519" target="_blank" rel="noopener">http://blog.csdn.net/andy_yf/article/details/7487519</a></p>
<p>@@@@@@ 吃饭喽, 未完待续……</p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/04/02/数据库题目整理及详解（一）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/02/数据库题目整理及详解（一）/" itemprop="url">
                  数据库题目整理及详解（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-04-02 12:05:01" itemprop="dateCreated datePublished" datetime="2016-04-02T12:05:01+08:00">2016-04-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database-Notes/" itemprop="url" rel="index"><span itemprop="name">Database Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/04/02/数据库题目整理及详解（一）/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/02/数据库题目整理及详解（一）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/04/02/数据库题目整理及详解（一）/" class="leancloud_visitors" data-flag-title="数据库题目整理及详解（一）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>—–冯延巳： 鹊踏枝.清明</p>
<blockquote>
<p>六曲阑干偎碧树，杨柳风轻，展尽黄金缕。谁把钿筝移玉柱？穿帘海燕惊飞去。<br>满眼游丝兼落絮，红杏开时，一霎清明雨。浓睡觉来慵不语，惊残好梦无寻处？ </p>
</blockquote>
<p>小假前夕，大Boss让当差，于是便可以名正言顺的重温一下数据库；时间还真是一把XXXX，夺走了记忆，失掉了“手熟尔”。</p>
<hr>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>1: 内容：sql语句相关：建表、查询、权限等；<br>2: 环境：Ubuntu 14.04 LTS下的Mysql5.5，详见下配图：</p>
<p> <img src="http://img.blog.csdn.net/20160402114446890" alt="mysql version"><br>3: 环境搭建见：<a href="http://jingyan.baidu.com/article/425e69e6bbc6c7be14fc1640.html" target="_blank" rel="noopener">ubuntu下mysql数据库的安装配置</a><br>4: 规范：解析中的<strong>SQL关键字</strong>都使用黑粗体标记了，并且有大小写的区分；Mysql中是对sql语句大小写敏感的，为了节省时间，在亲测中都使用小写，详见截图;<br>5: 每书写一条sql语句，最后都需要加英文分号（“;”）;<br>6: 每一行sql语句基本都亲测了一下，望诸君戮力，多有指正。</p>
<hr>
<h2 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h2><p>1: 设供应商-工程-零件数据库包含如下关系:</p>
<blockquote>
<p>Suppliers(Sno, Sname, Status, Scity)<br>Parts(Pno, Pname, Color, Weight)<br>Projects(Jno, Jname, Jcity)<br>SPJ(Sno, Pno, Jno, Quantity)</p>
</blockquote>
<p>其中,各关系的主码用下横线标示。Sno, Sname, Status, Scity 分别表示供应商的编号、名称、状态和所在城市;Pno, Pname, Color, Weight 分别表示零件的编号、名称、颜色和重量;Jno, Jname, Jcity 分别表示工程的编号、名称和所在城市; SPJ 是供应关系,Quantity 是特定供应商一次向特定工程供应的特定零件的数量。请使用 SQL 语句表示如下功能:</p>
<blockquote>
<p>题目都比较简单，开始之前，做部分初始化：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create database stu;         ## 创建名为：stu的数据库</span><br><span class="line">use stu;                     ## 使用stu数据库</span><br></pre></td></tr></table></figure>
<p>(1) 使用 SQL 创建基本表,确定每个属性的类型、缺省值和约束条件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Suppliers (</span><br><span class="line">Sno CHAR (8) PRIMARY KEY,</span><br><span class="line">Sname CHAR (8) NOT NULL,</span><br><span class="line">Status INT,</span><br><span class="line">Scity CHAR(10));</span><br></pre></td></tr></table></figure>
<p>同时<code>insert into ... values()</code> 语句添加部分测试数据，见下图（之后皆同）：</p>
<p><img src="http://img.blog.csdn.net/20160402114355124" alt="suppliers"></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Parts (</span><br><span class="line">Pno CHAR (8) PRIMARY KEY,</span><br><span class="line">Pname CHAR(16) NOT NULL,</span><br><span class="line">Color CHAR(4),</span><br><span class="line">Weight NUMERIC(7, 2));</span><br></pre></td></tr></table></figure>
<p>见下图：</p>
<p><img src="http://img.blog.csdn.net/20160402114610546" alt="parts"></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Projects (</span><br><span class="line">Jno CHAR (8) PRIMARY KEY,</span><br><span class="line">Jname CHAR(20) NOT NULL,</span><br><span class="line">Jcity CHAR(10));</span><br></pre></td></tr></table></figure>
<p>注意, 该处在操作时，将表名写为：project了，于是使用 alter语句修改表名：<code>alter table project rename to projects;</code></p>
<p>见下图：</p>
<p><img src="http://img.blog.csdn.net/20160402115121830" alt="projects"></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE SPJ (</span><br><span class="line">Sno CHAR (8),</span><br><span class="line">Pno CHAR(8),</span><br><span class="line">Jno CHAR(8),</span><br><span class="line">Quantity INT,</span><br><span class="line">PRIMARY KEY (Sno,Pno,Jno),</span><br><span class="line">FOREIGN KEY (Sno) REFERENCES Suppliers(Sno),</span><br><span class="line">FOREIGN KEY (Pno) REFERENCES Parts(Pno),</span><br><span class="line">FOREIGN KEY (Jno) REFERENCES Projects(Jno) );</span><br></pre></td></tr></table></figure>
<p>该处使用了外键，注意单词一定不要拼错，在测试中 <code>PRIMARY KEY、FOREIGN KEY</code>的内容都需要使用括号括起来，不然会报语法错误的提示，详见下图；</p>
<p><img src="http://img.blog.csdn.net/20160402115240908" alt="spj"></p>
<p><img src="http://img.blog.csdn.net/20160402115256424" alt="spj_insert"></p>
<hr>
<p>(2) 求上海的所有供应商的信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Suppliers WHERE Scity=‘上海’;</span><br></pre></td></tr></table></figure>
<p>(3) 求位于北京的所有工程的信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Projects WHERE Jcity=‘北京’;</span><br></pre></td></tr></table></figure>
<p>(4) 求数量在 100-150 的供应。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM SPJ WHERE Quantity BETWEEN 100 AND 150;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处: 使用<code>between ... and</code> 语句。</p>
</blockquote>
<p>(5) 求为工程 J1 提供零件的供应商号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sno FROM SPJ WHERE Jno=‘J1’;</span><br></pre></td></tr></table></figure>
<p>(6) 求供应工程 J1 红色零件的供应商号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sno</span><br><span class="line">FROM SPJ, Parts</span><br><span class="line">WHERE SPJ.Pno=Parts.Pno AND Jno=‘J1’ AND Color=‘红色’;</span><br></pre></td></tr></table></figure>
<p>(7) 求至少提供一种红色零件的供应商名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname</span><br><span class="line">FROM SPJ, Parts, Suppliers</span><br><span class="line">WHERE SPJ.Pno=Parts.Pno AND SPJ.Sno=Suppliers.Sno AND Color=‘红色’;</span><br></pre></td></tr></table></figure>
<p>2 ~ 7 题亲测截图：</p>
<p><img src="http://img.blog.csdn.net/20160402115503581" alt="2-7"></p>
<p>(8) 求不提供零件 P2 的供应商名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname</span><br><span class="line">FROM Suppliers</span><br><span class="line">WHERE NOT EXISTS</span><br><span class="line">	(SELECT *</span><br><span class="line">	FROM SPJ</span><br><span class="line">	WHERE SPJ.Sno= Suppliers.Sno AND Pno=‘P2’);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处: 使用<code>not exists</code> 语句。</p>
</blockquote>
<p>(9) 求没有使用天津供应商生产的红色零件的工程号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT Jno</span><br><span class="line">FROM Projects</span><br><span class="line">WHERE NOT EXISTS</span><br><span class="line">	(SELECT *</span><br><span class="line">	 FROM SPJ, Parts, SuppliersWHERE SPJ.Sno= Suppliers.Sno AND</span><br><span class="line">	 Parts.Pno=SPJ.Pno AND</span><br><span class="line">	 Color=‘红色’ AND Scity=‘天津’);</span><br></pre></td></tr></table></figure>
<p>(10) 求使用了本地供应商提供的零件的工程号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Projects.Jno, Projects.Jname</span><br><span class="line">FROM Projects,Suppliers,SPJ</span><br><span class="line">WHERE SPJ.Sno= Suppliers.Sno AND</span><br><span class="line">	Projects.Jno=SPJ.Jno AND</span><br><span class="line">	Projects.Jcity= Suppliers.Scity;</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT Jno,Jname</span><br><span class="line">FROM Projects</span><br><span class="line">WHERE EXISTS (</span><br><span class="line">	SELECT *</span><br><span class="line">	FROM SPJ, Suppliers</span><br><span class="line">	WHERE SPJ.Sno= Suppliers.Sno AND</span><br><span class="line">		Projects.Jno=SPJ.Jno AND</span><br><span class="line">		Projects.Jcity= Suppliers.Scity);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处: 使用<code>exists</code> 语句。</p>
</blockquote>
<p>8 ~ 10，亲测截图：</p>
<p><img src="http://img.blog.csdn.net/20160402115807317" alt="8-10"></p>
<p>(11)  求未使用本地供应商提供的零件的工程号和工程名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT Jno,Jname</span><br><span class="line">FROM Projects</span><br><span class="line">WHERE NOT EXISTS (</span><br><span class="line">	SELECT *</span><br><span class="line">	FROM SPJ, Suppliers</span><br><span class="line">	WHERE SPJ.Sno= Suppliers.Sno AND</span><br><span class="line">            Projects.Jno=SPJ.Jno AND</span><br><span class="line">            Projects.Jcity= Suppliers.Scity);</span><br></pre></td></tr></table></figure>
<p>(12) 求至少用了供应商 S1 所供应的全部零件的工程号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT Jno</span><br><span class="line">FROM Projects</span><br><span class="line">WHERE NOT EXISTS (</span><br><span class="line">	SELECT *</span><br><span class="line">	FROM SPJ SPJ1</span><br><span class="line">	WHERE SPJ1.Sno = ‘S1’ AND</span><br><span class="line">	NOT EXISTS (</span><br><span class="line">		SELECT *</span><br><span class="line">		FROM SPJ SPJ2</span><br><span class="line">		WHERE SPJ2.Jno= Projects.Jno AND</span><br><span class="line">		SPJ2.Pno= SPJ1.Pno));</span><br></pre></td></tr></table></figure>
<p>(13) 求提供所有零件的供应商名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT Sname</span><br><span class="line">FROM Suppliers</span><br><span class="line">WHERE NOT EXISTS (</span><br><span class="line">	SELECT *</span><br><span class="line">	FROM SPJ SPJ1</span><br><span class="line">		WHERE NOT EXISTS (</span><br><span class="line">			SELECT *</span><br><span class="line">            FROM SPJ SPJ2</span><br><span class="line">            WHERE SPJ2.Sno= Suppliers.Sno AND</span><br><span class="line">            SPJ2.Pno= SPJ1.Pno));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处: 使用建立<strong>别名</strong>的机制。</p>
</blockquote>
<p>(14) 求提供了零件的供应商的个数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT distinct Sno FROM SPJ;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处的<code>distinct</code>语句。    </p>
</blockquote>
<p>11 ～ 14，截图：</p>
<p><img src="http://img.blog.csdn.net/20160402115948333" alt="11-14"></p>
<p>(15) 求所有零件的平均重量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT avg(weight) FROM Parts;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处的<code>avg</code>函数，用于求取平均值。    </p>
</blockquote>
<p>(16) 求供应商 S1 提供的每种零件的总数量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT Pno, sum(quantity) FROM SPJ WHERE Sno=‘S1’ GROUP BY Pno;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意此处的<code>sum</code>函数，用于求和；以及<code>GROUP BY</code>语句用于分组。    </p>
</blockquote>
<p>(17) 求供应商 S1 供应工程 J1 的每种零件的总重量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT sum(weight)</span><br><span class="line">FROM Parts, SPJ</span><br><span class="line">WHERE SPJ.Pno=Parts.Pno AND Sno=‘S1’ AND Jno=‘J1’</span><br><span class="line">GROUP BY Parts.Pno;</span><br></pre></td></tr></table></figure>
<p>15 ~ 17，亲测截图：</p>
<p><img src="http://img.blog.csdn.net/20160402120043599" alt="15-17"></p>
<hr>
<p>@@@@@@@<strong>看来这部分要写成系列的了，今天就到这儿，未完待续……</strong></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1]. <a href="http://www.shuojuzi.com/s/shicidaquan/128764.html" target="_blank" rel="noopener">http://www.shuojuzi.com/s/shicidaquan/128764.html</a><br>[2]. <a href="https://www.douban.com/note/155415235/" target="_blank" rel="noopener">https://www.douban.com/note/155415235/</a><br>[3]. <a href="http://www.cnblogs.com/wzmenjoy/p/4244545.html" target="_blank" rel="noopener">http://www.cnblogs.com/wzmenjoy/p/4244545.html</a><br>[4]. <a href="http://www.tanbo.name/html/544.html" target="_blank" rel="noopener">http://www.tanbo.name/html/544.html</a><br>[5]. <a href="http://jxtm.jzu.cn/?p=258" target="_blank" rel="noopener">http://jxtm.jzu.cn/?p=258</a><br>[6]. <a href="http://www.jb51.net/article/23966.htm" target="_blank" rel="noopener">http://www.jb51.net/article/23966.htm</a><br>[7]. <a href="http://jingyan.baidu.com/article/425e69e6bbc6c7be14fc1640.html" target="_blank" rel="noopener">http://jingyan.baidu.com/article/425e69e6bbc6c7be14fc1640.html</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/03/28/使用U盘安装windows系统教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/使用U盘安装windows系统教程/" itemprop="url">
                  使用U盘安装windows系统教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-03-28 21:36:48" itemprop="dateCreated datePublished" datetime="2016-03-28T21:36:48+08:00">2016-03-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/03/28/使用U盘安装windows系统教程/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/03/28/使用U盘安装windows系统教程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/03/28/使用U盘安装windows系统教程/" class="leancloud_visitors" data-flag-title="使用U盘安装windows系统教程">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>计算机专业的童鞋们大多遇到好多需要帮忙装系统的经历，每次都是不胜其烦。其实，对于但凡有点电脑使用经验的童鞋来说，现在安装或者重装系统，就显得特别简单了。这里做一个稍作详细点的整合教程记录，以后有装系统的差事，就可以分享链接让他们自己学着安装了。</p>
<p>本教程适用于windows7、windows8及8.1、windows10系列系统的安装，亲测！</p>
<hr>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>1: 一台能上网的电脑</p>
<p>需要一台完好的且能上网的电脑来帮助我们做接下来的准备工作以及U盘启动的制作。</p>
<p>2: U盘</p>
<p>自备啊，需要准备一个4G及以上内存大小的U盘，推荐使用8G大小的，使用前请备份好u盘内资料，因为制作启动盘的过程需要格式化U盘。</p>
<p>3: windows系统镜像</p>
<p>在网上下载好所需要安装系统的镜像文件：XXX.iso格式的文件（如：<code>cn_windows_7_ultimate_x64_dvd_x15-66043.iso</code>）。这里给出<strong>MSDN，我告诉你</strong>提供的纯天然的镜像文件地址，推荐到这里下载哦：<a href="http://www.itellyou.cn/" target="_blank" rel="noopener">MSDN windows系统镜像文件下载地址</a>。</p>
<p>4: 老毛桃装机软件<br>百度搜索：<strong>老毛桃</strong>，进入官网下载老毛桃装机软件，附上官网：<a href="http://www.laomaotao.in/" target="_blank" rel="noopener">老毛桃官网</a>，下载软件后安装到自己的电脑上，准备以后制作启动盘。</p>
<p>5: 系统激活工具<br>这个主要是安装的系统大多都是没有激活的，安装系统完成后需要激活系统，这里推荐使用<strong>小马哥的一键激活</strong>，自行百度。</p>
<hr>
<h2 id="制作U盘启动盘"><a href="#制作U盘启动盘" class="headerlink" title="制作U盘启动盘"></a>制作U盘启动盘</h2><p>（1）、将准备好的U盘插在能上网的电脑上，双击安装过的老毛桃装机软件，出现如下界面，使用<strong>默认模式</strong>，软件将自动识别到插入的U盘，若未识别，则手动添加U盘。如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328211554196" alt="默认模式"></p>
<p>（2）、然后点击“一键制作启动U盘”按钮即可，此时会弹出一个警告框，提示将删除u盘中的所有数据。在确认已经将重要数据做好备份的情况下，我们点击“确定”。如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328211633427" alt="警告框的确认"></p>
<p>（3）、接下来程序开始制作u盘启动盘，整个过程可能需要几分钟，大家在此期间切勿进行其他操作，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328211719228" alt="等待自行制作"></p>
<p>（4）、U盘启动盘制作完成后，会弹出一个窗口，询问是否要启动电脑模拟器测试u盘启动情况，我们点击“是（Y）”，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328211801944" alt="模拟器"></p>
<p>（5）、启动“电脑模拟器”后我们就可以看到u盘启动盘在模拟环境下的正常启动界面了，按下键盘上的“Ctrl+Alt”组合键释放鼠标,最后可以点击右上角的关闭图标退出模拟启动界面，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328211843697" alt="退出模拟器"></p>
<p>到此为止，老毛桃装机版u盘启动盘制作过程就结束了。之后我们需要将下载好的windowsXXX.iso镜像文件一同拷贝到U盘中，准备一会的系统安装使用。</p>
<hr>
<h2 id="运行老毛桃PE系统"><a href="#运行老毛桃PE系统" class="headerlink" title="运行老毛桃PE系统"></a>运行老毛桃PE系统</h2><p>本部分主要说明如何设置待修电脑BIOS设置U盘为第一启动项，之后进入老毛桃PE系统，进行安装系统说明。</p>
<h3 id="设置BIOS-U盘为第一启动项"><a href="#设置BIOS-U盘为第一启动项" class="headerlink" title="设置BIOS U盘为第一启动项"></a>设置BIOS U盘为第一启动项</h3><p>（1）、首先将制作好的老毛桃启动U盘插入到待安装系统的电脑上，在开启电脑后按下启动快捷键引导u盘启动，可在BIOS中进行设置，各个不同的主板使用的快捷键不同，常见型号的BIOS快捷键如下链接所示：<a href="http://www.laomaotao.in/softhelp/bios/1032.html" target="_blank" rel="noopener">不同电脑启动BIOS快捷键大全</a>。进入boot菜单界面后，通过键盘上的上下方向键将光标移至“Boot Device Priority”选项，按Enter键打开子菜单。如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212020713" alt="BIOS设置"></p>
<p>（2）、接着我们只需在子菜单中找到u盘对应的选项，然后通过键盘上的“+”、“-”键将其调节到最上方，作为开机第一启动项即可，并按F10键保存设置。随后会弹出一个窗口，选择“OK”即可。如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212054698" alt="设置U盘第一启动"></p>
<p>（3）、完成开机启动设置后重启电脑，便会自动进入到老毛桃主菜单页面。这样我们便可以如愿在电脑上使用老毛桃u盘启动盘解决遇到的问题了。</p>
<p>本部分可以参考这一链接进行设置：<a href="http://www.laomaotao.in/softhelp/bios/865.html" target="_blank" rel="noopener">将u盘启动盘设置为开机首选方法</a>。</p>
<hr>
<h3 id="进入老毛桃PE系统"><a href="#进入老毛桃PE系统" class="headerlink" title="进入老毛桃PE系统"></a>进入老毛桃PE系统</h3><p>（1）、如果以上过程成功的话，就会进入如下老毛桃主菜单界面，进入老毛桃主菜单界面后，将光标移至“【02】运行老毛桃 Win2003PE系统(装机推荐)”后按回车键确认，如下图：</p>
<p><img src="http://img.blog.csdn.net/20160328212333546" alt="老毛桃主菜单界面"></p>
<hr>
<h3 id="分区（如果不需要分区操作的可以跳过这一步）"><a href="#分区（如果不需要分区操作的可以跳过这一步）" class="headerlink" title="分区（如果不需要分区操作的可以跳过这一步）"></a>分区（如果不需要分区操作的可以跳过这一步）</h3><p>（1）、如果电脑需要重新分区的话，可使用老毛桃PE系统自带的DiskGenius分区工具进行快速分区。进入pe系统桌面后，鼠标左键双击打开DiskGenius分区工具，在工具主窗口中，点击“快速分区”，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212442871" alt="快速分区"></p>
<p>（2）、随后会弹出快速分区设置窗口，在这里，我们可以设置分区表类型、分区数目以及文件系统大小。完成设置后，点击“确定”按钮即可，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212515673" alt="分区个数"></p>
<p>（3）、接着工具便会进行格式化分区操作，将磁盘按照设置分配成多个文件系统，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212550658" alt="格式化分区"></p>
<p>（4）、待快速分区操作完成后，通过工具磁盘列表或打开我的电脑，可以发现磁盘分区已经设置好了，如下图所示：</p>
<p><img src="http://img.blog.csdn.net/20160328212626622" alt="分区完成"></p>
<hr>
<h3 id="U盘开始安装系统"><a href="#U盘开始安装系统" class="headerlink" title="U盘开始安装系统"></a>U盘开始安装系统</h3><p>（1）、完成以上操作后，双击桌面上的<strong>老毛桃PE一键装机</strong>工具，程序会自动检测硬盘分区中存在符合条件的系统镜像文件并且显示出来以我们供选择，若工具没有识别到您所存放的用于安装系统的镜像文件，则可以通过点击右边的“更多”按钮进入深层目录进行选择，即之前我们下载好的.iso格式文件。如下图：</p>
<p><img src="http://img.blog.csdn.net/20160328212717794" alt="加载镜像文件"></p>
<p>（2）、当选择所准备好的原版win7系统镜像文件后，会出现5个不同的win7版本选择，在此我们选择其中的win7旗舰版进行安装，如有特殊版本喜好，您可以自行选择其他版本。接着我们需要在下方硬盘分区列表当中选择一个硬盘分区做为安装系统时所需要占用的分区，在此我们默认选择下方第一个分区即可。点击确定按钮会进入到下一步操作步骤，我们无需对下方的选项进行任何修改操作，直接点击确定即可执行安装操作。如下图：</p>
<p><img src="http://img.blog.csdn.net/20160328212802091" alt="还原分区"></p>
<p>（3）、随后工具会先将我们所准备的原版win7系统镜像包解压到特定的分区，待解压工作完成后将自动重启计算机进行后续的系统安装步骤。如下图：</p>
<p><img src="http://img.blog.csdn.net/20160328212903107" alt="开始安装系统"></p>
<p>（4）、<strong>结束以上步骤后，基本上就使用U盘完成了系统的安装，再次重启电脑，别忘了，把U盘弹出，或者干脆设置BIOS启动项为硬盘启动，这样便可以防止开机自动加载U盘。</strong></p>
<hr>
<h3 id="系统激活"><a href="#系统激活" class="headerlink" title="系统激活"></a>系统激活</h3><p>安装完系统，下载驱动程序安装或更新驱动程序，然后检查下控制面板系统是否激活？位置在：控制面板\系统和安全\系统；若没有激活自行百度使用小马哥激活工具，激活系统，完成后如下所示：</p>
<p><img src="http://img.blog.csdn.net/20160328213127436" alt="激活成功"></p>
<hr>
<p>@@@@@@@@ —- 那么，到这里，整个系统的安装过程就完成了。 —- @@@@@@@@</p>
<hr>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>（1）: <a href="http://www.itellyou.cn/" target="_blank" rel="noopener">http://www.itellyou.cn/</a><br>（2）: <a href="http://www.laomaotao.in/" target="_blank" rel="noopener">http://www.laomaotao.in/</a><br>（3）: <a href="http://www.laomaotao.in/softhelp/bios/1032.html" target="_blank" rel="noopener">http://www.laomaotao.in/softhelp/bios/1032.html</a><br>（4）: <a href="http://www.laomaotao.in/softhelp/bios/865.html" target="_blank" rel="noopener">http://www.laomaotao.in/softhelp/bios/865.html</a><br>（5）: <a href="http://www.laomaotao.in/lmtjc/772.html" target="_blank" rel="noopener">http://www.laomaotao.in/lmtjc/772.html</a><br>（6）: <a href="http://www.laomaotao.org/jiaocheng/92/upqdzz.html" target="_blank" rel="noopener">http://www.laomaotao.org/jiaocheng/92/upqdzz.html</a><br>（7）: <a href="http://www.laomaotao.org/jiaocheng/92/upqdzz.html" target="_blank" rel="noopener">http://www.laomaotao.org/jiaocheng/92/upqdzz.html</a><br>（8）: <a href="http://www.laomaotao.org/softhelp/syjc/10.html" target="_blank" rel="noopener">http://www.laomaotao.org/softhelp/syjc/10.html</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/03/20/64位Ubuntu-14-04-LTS-Caffe-CUDA-7-5-Opencv-3-0-安装配置实战/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/20/64位Ubuntu-14-04-LTS-Caffe-CUDA-7-5-Opencv-3-0-安装配置实战/" itemprop="url">
                  64位Ubuntu 14.04 LTS + Caffe + CUDA 7.5 + Opencv 3.0 安装配置实战
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-03-20 22:02:19" itemprop="dateCreated datePublished" datetime="2016-03-20T22:02:19+08:00">2016-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Deep-Learning/" itemprop="url" rel="index"><span itemprop="name">Deep Learning</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/03/20/64位Ubuntu-14-04-LTS-Caffe-CUDA-7-5-Opencv-3-0-安装配置实战/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/03/20/64位Ubuntu-14-04-LTS-Caffe-CUDA-7-5-Opencv-3-0-安装配置实战/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/03/20/64位Ubuntu-14-04-LTS-Caffe-CUDA-7-5-Opencv-3-0-安装配置实战/" class="leancloud_visitors" data-flag-title="64位Ubuntu 14.04 LTS + Caffe + CUDA 7.5 + Opencv 3.0 安装配置实战">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>本文主要笔记自己在ubuntu 14.04.4 LTS版本系统上搭建开源深度学习[Deep Learning]框架: Caffe的详细过程。其中主要包含了Nvidia CUDA 7.5、opencv 3.0、cuDNN的安装配置过程及所遇问题的解决方案。</p>
<p>安装的过程中遇到了很多问题，感谢开源社区、感谢Github大神们的分享，学会分享就是很大的善良。</p>
<hr>
<h2 id="情况说明"><a href="#情况说明" class="headerlink" title="情况说明"></a>情况说明</h2><p>在搭建该框架前，本系统已经使用Ubuntu自带的”附件驱动”安装了开源驱动，看过网上的很多教程之后，还是毅然决然地卸载这些开源驱动，换回了自带默认的”Nouveau Display Driver”驱动以供基本显示使用（注意：此时安装的Nvidia推荐驱动还没有完全卸载，即尚未安装GPU）。</p>
<p>这些说明很重要！由于大神的通力劳作，使得现在按照官网安装最新版的Caffe，变得很简单了，下面我们开始一步步的安装吧。</p>
<hr>
<h2 id="Caffe-安装"><a href="#Caffe-安装" class="headerlink" title="Caffe 安装"></a>Caffe 安装</h2><p>根据我们前面的情况说明，我们现在机器上没有GPU，按照官网的<a href="http://caffe.berkeleyvision.org/install_apt.html" target="_blank" rel="noopener">Caffe官网安装教程</a>，我们先一步步地进行，之后安装完GPU（CUDA）后再重新编译即可，不用担心。</p>
<p>(1). 安装依赖库（一）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libhdf5-serial-dev protobuf-compiler</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install --no-install-recommends libboost-all-dev</span><br></pre></td></tr></table></figure>
<p>(2). 安装BLAS</p>
<p>也可以安装OpenBLAS或者MKL，以加速CPU性能（有GPU的童鞋可以忽略），这里我按照官网装了BLAS，有兴趣的童鞋可以自己研究另外两种，只需在最后编译caffe的时候修改一下配置文件即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install libatlas-base-dev</span><br></pre></td></tr></table></figure>
<p>(3). Python安装</p>
<p>Ubuntu 14.04 自带Python 2.7 ，无需自行安装。可以自测：<code>$ python</code>，进入python环境后会有版本提示；如果未出现请使用如下命令进行安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install python</span><br></pre></td></tr></table></figure>
<p>(4). Opencv3.0安装</p>
<p>安装方法详见：<a href="https://absentm.github.io/2016/03/19/Ubuntu14-04-LTS-%E7%B3%BB%E7%BB%9F%E4%B8%ADOpencv-3-0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/"> ubuntu14.04 LTS系统中Opencv 3.0开发环境的搭建 </a>，Opencv必须安装，且版本需要大于2.4。—[来自官网说明]</p>
<p>(5). 安装依赖库（二）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install libgflags-dev libgoogle-glog-dev liblmdb-dev</span><br></pre></td></tr></table></figure>
<p>(6). Caffe下载</p>
<p>使用git进行下载，直接从github上下载最新版本，下载前切换至home目录。注：git的使用方法可参看：<a href="http://blog.csdn.net/mduanfire/article/details/50492939" target="_blank" rel="noopener">我的vim配置（.vimrc：git+github管理） </a>，这篇文章内容进行安装配置。clone后在home中便可以找到Caffe的下载目录了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd</span><br><span class="line">$ git clone git://github.com/BVLC/caffe.git</span><br></pre></td></tr></table></figure>
<p>(7). 编译Caffe前准备</p>
<ul>
<li><p>修改Makefile文件，最新版的Caffe已经帮我们修改好了，可以跳过；如果使用以前的版本则仍需要修改，这个可以自行Google。</p>
</li>
<li><p>修改caffe/examples/cpp_classification/classification.cpp文件，加入：</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/imgproc/types_c.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/objdetect/objdetect.hpp&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>(8). 编译Caffe</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/caffe</span><br><span class="line">$ cp Makefile.config.example Makefile.config </span><br><span class="line"></span><br><span class="line"># 修改Makefile.config文件：如果没有GPU，则去掉CPU_ONLY:= 1的注释</span><br><span class="line"># 如果安装了Opencv3.0,去掉 OPENCV_VERSION := 3的注释</span><br><span class="line"></span><br><span class="line">$ make all </span><br><span class="line"># 到这一步可能会出现，缺少cublas_v2.h的错误提示，先不用管，这时以下两步也不需要执行了，这是由于未安装cuda造成的。</span><br><span class="line"></span><br><span class="line">$ make test </span><br><span class="line">$ make runtest</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160320214003509" alt="Makefile配置图"></p>
<hr>
<h2 id="Nvidia显卡驱动及Cuda-7-5-的安装"><a href="#Nvidia显卡驱动及Cuda-7-5-的安装" class="headerlink" title="Nvidia显卡驱动及Cuda 7.5 的安装"></a>Nvidia显卡驱动及Cuda 7.5 的安装</h2><p><strong>如果你的机器还没有装GPU，请直接忽略这一步和cuDNN安装</strong></p>
<p>（1）. 验证你的gpu支持是否支持Cuda </p>
<p>打开<a href="https://developer.nvidia.com/cuda-gpus" target="_blank" rel="noopener">支持Cuda运算的Gpu列表</a>，只要你的GPU在里面找得到就没问题。</p>
<p>（2）. 查看当前使用显卡 </p>
<p>在终端输入以下命令，确认当前使用的是独立显卡，如果使用的是集显，则需要在开机时进入BIOS关闭集显。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lspci | grep -i nvidia</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20160320214132574" alt="显示效果"></p>
<p>（3）. 确认你的系统是X86架构，可通过下面的命令查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ uname -m &amp;&amp; cat /etc/*release   # 显示X86_64和系统信息即可</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160320214222685" alt="显示结果"></p>
<p>（4）. 安装gcc </p>
<p>Ubuntu 14.04已经自带gcc 4.8.5，无需自行下载，检查gcc版本可通过如下方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc --version</span><br></pre></td></tr></table></figure></p>
<p><img src="http://img.blog.csdn.net/20160320214304667" alt="gcc"></p>
<p>如果发现还没安装gcc，可以执行：$ sudo apt-get install gcc-版本号</p>
<p>（5）. 下载Cuda<br>Cuda可以直接到<a href="https://developer.nvidia.com/cuda-toolkit" target="_blank" rel="noopener">Nvidia官网</a>下载，下面官网的下载地址，有两种安装方式（.run 和 .deb），这里只介绍后者，因为比较简单易行。 这里选择下载信息如下图： </p>
<p><strong>这里给出我的百度云盘下载地址：</strong> 链接：<a href="http://pan.baidu.com/s/1c7nR9G" target="_blank" rel="noopener">http://pan.baidu.com/s/1c7nR9G</a> 密码：sp7z</p>
<p><img src="http://img.blog.csdn.net/20160320214425511" alt="这里写图片描述"></p>
<p>（6）. 验证Cuda安装包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ md5sum 你的filename</span><br></pre></td></tr></table></figure>
<p>如果下载没出错，那得到的MD5序列号和上图中是一致的，否则只能重新下载。</p>
<p>（7）. 卸载旧版本Nvidia</p>
<p>根据官网介绍，之前安装的版本都会有冲突的嫌疑。卸载命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get --purge remove nvidia*</span><br></pre></td></tr></table></figure>
<p>（8）. 安装Cuda </p>
<p>cd切换至cuda安装包所在的目录，执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dpkg -i cuda-repo-ubuntu1404-7-5-local_7.5-18_amd64.deb</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install cuda</span><br></pre></td></tr></table></figure>
<p>（9）. 添加环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/profile # 在末尾添加（注意自己的Cuda版本）：</span><br><span class="line"></span><br><span class="line"># export PATH=/usr/local/cuda-7.5/bin:$PATH</span><br><span class="line"># export LD_LIBRARY_PATH=/usr/local/cuda-7.5/lib64:$LD_LIBRARY_PATH</span><br><span class="line"></span><br><span class="line">$ source /etc/profile</span><br><span class="line">$ sudo reboot</span><br></pre></td></tr></table></figure>
<p>（10）. 安装例程</p>
<p>例程本来在<code>/usr/local/cuda-7.5/samples</code>路径下，但不可写，使用如下命令进行复制：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cuda-install-samples-7.5.sh ~/cuda</span><br></pre></td></tr></table></figure></p>
<p>（11）. 查看GPU驱动版本、Cuda版本： </p>
<p>正常安装的话，会出现版本信息，如果没出现说明安装出错，官网教程说的很清楚。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/driver/nvidia/version</span><br><span class="line">$ nvcc -V</span><br></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20160320214603689" alt="nvidia-version"></p>
<p>（12）. 编译例程</p>
<p>cd进NVIDIA_CUDA-7.5_Samples中make:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/cuda/NVIDIA_CUDA-7.5_Samples    </span><br><span class="line">$ make</span><br></pre></td></tr></table></figure>
<blockquote>
<p>编译结果在 ~/NVIDIA_CUDA-7.5_Samples/bin/x86_64/linux/release中</p>
</blockquote>
<p>（13）. 执行编译结果，确认安装配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd</span><br><span class="line">$ ./cuda/NVIDIA_CUDA-7.5_Samples/bin/x86_64/linux/release/deviceQuery</span><br></pre></td></tr></table></figure>
<p>顺利的话如下图所示，若出错可<a href="http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/index.html#running-binaries__valid-results-from-sample-cuda-devicequery-program" target="_blank" rel="noopener">参考此处</a> </p>
<p><img src="http://img.blog.csdn.net/20160320214833997" alt="deviceQuery"></p>
<p>（14）. bandwidthTest确认</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./cuda/NVIDIA_CUDA-7.5_Samples/bin/x86_64/linux/release/bandwidthTest</span><br></pre></td></tr></table></figure>
<p>确认结果如下图所示则安装成功 ：</p>
<p><img src="http://img.blog.csdn.net/20160320214922497" alt="bandwidthTest"></p>
<hr>
<h2 id="安装cuDNN"><a href="#安装cuDNN" class="headerlink" title="安装cuDNN"></a>安装cuDNN</h2><p>（1）. 下载cuDNN </p>
<p>可以从<a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">英伟达官网</a>下载，一般注册第二天就通过。</p>
<p>注意，<strong>建议使用cudnn v3 或 cudnn v2版本，我试验的v5最新版一直报错</strong>。</p>
<p><strong>这里给出我的百度云盘下载地址：</strong><br>链接：<a href="http://pan.baidu.com/s/1c2p8NcO" target="_blank" rel="noopener">http://pan.baidu.com/s/1c2p8NcO</a> 密码：em3w</p>
<p>（2）. 安装<br>解压下载好的文件，一般在文件所在的目录会出现一个cuda的新文件夹：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ tar -xzvf cudnn-7.5-linux-x64-v3.0-rc.tgz</span><br><span class="line">$ cd cudnn/lib64/</span><br><span class="line">$ sudo cp lib* /usr/local/cuda/lib64/</span><br><span class="line">$ cd ..</span><br><span class="line">$ cd include</span><br><span class="line">$ sudo cp cudnn.h /usr/local/cuda/include</span><br></pre></td></tr></table></figure>
<p>（3）. 重新编译caffe<br>在~/caffe/Makefile.config中，去掉 USE_CUDNN := 1的注释，重新加上CPU_ONLY:= 1的注释然后重新编译caffe即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ make clean # 第一次编译不用这句，出错时也可使用这句。</span><br><span class="line">$ make all</span><br><span class="line">$ make test</span><br><span class="line">$ make runtest</span><br></pre></td></tr></table></figure>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>当进行 <code>make all</code> 操作时，可能会出现如下错误：</p>
<blockquote>
<p>CXX/LD -o .build_release/tools/convert_imageset.bin<br>.build_release/lib/libcaffe.so: undefined reference to cv::imread(cv::String const&amp;, int)’<br>.build_release/lib/libcaffe.so: undefined reference tocv::imencode(cv::String const&amp;, cv::_InputArray const&amp;, std::vector &gt;&amp;, std::vector &gt; const&amp;)’</p>
</blockquote>
<p><strong>原因就是opencv3.0.0把imread相关函数放到imgcodecs.lib中了，而非原来的imgproc.lib</strong></p>
<p><strong>解决办法：修改Makefile文件（不是Makefile.config）：</strong></p>
<p><strong>在位置{ (LIBRARIES += glog gflags protobuf leveldb snappy lmdb boost_system hdf5_hl hdf5 m opencv_core opencv_highgui opencv_imgproc opencv_imgcodecs) }处添加opencv_imgcodecs</strong></p>
<p>修复错误重新执行上述代码，成功后的截图如下所示：</p>
<p><img src="http://img.blog.csdn.net/20160320220059533" alt="runtest"></p>
<hr>
<h2 id="配置pycaffe"><a href="#配置pycaffe" class="headerlink" title="配置pycaffe"></a>配置pycaffe</h2><p>（1）. 安装依赖库 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install python-numpy python-scipy python-matplotlib python-sklearn python-skimage python-h5py python-protobuf python-leveldb python-networkx python-nose python-pandas python-gflags Cython ipython</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install protobuf-c-compiler protobuf-compiler</span><br></pre></td></tr></table></figure>
<p>（2）. 编译 </p>
<p>进入caffe目录，编译pycaffe<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/caffe</span><br><span class="line">$ make pycaffe</span><br></pre></td></tr></table></figure></p>
<p>（3）. 修改环境变量 </p>
<p>添加caffe目录下的python地址到$PYTHONPATH<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gedit /etc/profile # 末尾添加： export PYTHONPATH = caffe目录下的python地址:$PYTHONPATH，用完整路径，不要用~</span><br><span class="line"></span><br><span class="line">$ source /etc/profile # 使之生效</span><br></pre></td></tr></table></figure></p>
<p>（4）. 测试 </p>
<p>在terminal进入python,import caffe 如果没错说明安装成功，效果如图：</p>
<p><img src="http://img.blog.csdn.net/20160320215108560" alt="import caffe"></p>
<hr>
<h2 id="使用MNIST数据集进行测试"><a href="#使用MNIST数据集进行测试" class="headerlink" title="使用MNIST数据集进行测试"></a>使用MNIST数据集进行测试</h2><p>切换至caffe目录下，下面的工作主要是：用于测试Caffe是否工作正常，不做详细评估。具体设置请参考官网：<a href="http://caffe.berkeleyvision.org/gathered/examples/mnist.html" target="_blank" rel="noopener">MNIST数据集在Caffe中的测试 。</a></p>
<ul>
<li>数据预处理</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh data/mnist/get_mnist.sh</span><br></pre></td></tr></table></figure>
<ul>
<li>重建lmdb/leveldb文件。Caffe支持三种数据格式输入网络，包括Image(.jpg,<br> .png等)，leveldb，lmdb，根据自己需要选择不同输入吧。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh examples/mnist/create_mnist.sh</span><br></pre></td></tr></table></figure>
<p>生成mnist-train-lmdb 和 mnist-train-lmdb文件夹，这里包含了lmdb格式的数据集</p>
<ul>
<li>训练mnist</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sh examples/mnist/train_lenet.sh</span><br></pre></td></tr></table></figure>
<p>这时你会在终端窗口中看到caffe的训练过程</p>
<p><img src="http://img.blog.csdn.net/20160320220016928" alt="training"></p>
<hr>
<h2 id="使用CIFAR-10数据集进行测试"><a href="#使用CIFAR-10数据集进行测试" class="headerlink" title="使用CIFAR-10数据集进行测试"></a>使用CIFAR-10数据集进行测试</h2><p><strong>CIFAR-10数据集</strong>: 含有6万个32*32的彩色图像，共分为10种类型，由 Alex Krizhevsky, Vinod Nair和 Geoffrey Hinton收集而来。包含50000张训练图片，10000张测试图片, 详细参考地址见:  <a href="http://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">The CIFAR-10 dataset</a></p>
<ul>
<li>首先切换至caffe目录下: <code>$ cd caffe</code>;</li>
<li>准备数据集( 在caffe目录下执行): <code>$  ./data/cifar10/get_cifar10.sh</code>; </li>
<li>执行: <code>./examples/cifar10/create_cifar10.sh</code>   ## 将图片库转成leveldb格式，并计算均值二进制文件;</li>
<li>模型训练: <code>./examples/cifar10/train_quick.sh</code></li>
</ul>
<p>结果如下图所示:</p>
<p><img src="http://img.blog.csdn.net/20160503155908088" alt="cifar10-caffe"></p>
<hr>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>(1): <a href="http://caffe.berkeleyvision.org/install_apt.html" target="_blank" rel="noopener">http://caffe.berkeleyvision.org/install_apt.html</a><br>(2): <a href="http://blog.csdn.net/mduanfire/article/details/50931989" target="_blank" rel="noopener">http://blog.csdn.net/mduanfire/article/details/50931989</a><br>(3): <a href="http://blog.csdn.net/mduanfire/article/details/50492939" target="_blank" rel="noopener">http://blog.csdn.net/mduanfire/article/details/50492939</a><br>(4): <a href="https://developer.nvidia.com/cuda-gpus" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-gpus</a><br>(5): <a href="https://developer.nvidia.com/cuda-toolkit" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-toolkit</a><br>(6): <a href="http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/index.html#running-binaries__valid-results-from-sample-cuda-devicequery-program" target="_blank" rel="noopener">http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/index.html#running-binaries__valid-results-from-sample-cuda-devicequery-program</a><br>(7): <a href="https://developer.nvidia.com/cudnnhttp://caffe.berkeleyvision.org/install_apt.html" target="_blank" rel="noopener">https://developer.nvidia.com/cudnnhttp://caffe.berkeleyvision.org/install_apt.html</a><br>(8): <a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">https://developer.nvidia.com/cudnn</a><br>(9): <a href="http://blog.csdn.net/u013915633/article/details/49867947" target="_blank" rel="noopener">http://blog.csdn.net/u013915633/article/details/49867947</a><br>(10): <a href="http://www.th7.cn/system/lin/201504/103304.shtml" target="_blank" rel="noopener">http://www.th7.cn/system/lin/201504/103304.shtml</a><br>(11): <a href="https://github.com/Zhangjd/graduation-project/issues/1" target="_blank" rel="noopener">https://github.com/Zhangjd/graduation-project/issues/1</a><br>(12): <a href="https://github.com/BVLC/caffe/issues/2348" target="_blank" rel="noopener">https://github.com/BVLC/caffe/issues/2348</a></p>
<p><strong>END</strong></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/03/20/Android使用Fragment实现底部导航栏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/20/Android使用Fragment实现底部导航栏/" itemprop="url">
                  Android使用Fragment实现底部导航栏
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-03-20 21:41:32" itemprop="dateCreated datePublished" datetime="2016-03-20T21:41:32+08:00">2016-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android-Notes/" itemprop="url" rel="index"><span itemprop="name">Android Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/03/20/Android使用Fragment实现底部导航栏/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/03/20/Android使用Fragment实现底部导航栏/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/03/20/Android使用Fragment实现底部导航栏/" class="leancloud_visitors" data-flag-title="Android使用Fragment实现底部导航栏">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在做移动开发过程中底部导航栏是十分常见的功能，且市面上见到的做法也有很多种，这篇博文记录一下使用Fragment实现底部导航栏的功能，算是对这几天学习Android做的Demo的一个总结吧。</p>
<p>好久不敲代码，确实生疏不少。现在发现使用博客记录自己平时的学习资料，节省了很多搜集资料的时间，是一个很好的学习方法。</p>
<hr>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>1: IDE：AS，Android studio;<br>2: 模拟器：genymotion;<br>3: 实现的效果，见下图。</p>
<p><img src="http://img.blog.csdn.net/20160330214729069" alt="效果图1"></p>
<p><img src="http://img.blog.csdn.net/20160330214755803" alt="效果图2"></p>
<hr>
<h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><p>为了讲明白这个实现过程，我们贴出来的代码多一写，这样更方便理解 [最后还会放出完整的代码实现] 。看上图的界面做的比较粗糙，但实现过程的骨架都具有了，想要更完美的设计，之后自行完善吧 ^0^。</p>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><p>通过观察上述效果图，发现任意一个选项页面都有三部分组成：</p>
<p>1: 顶部去除ActionBar后的标题栏；<br>2: 中间一个FragmentLayout用来放相应的Fragment；<br>3: 底部一个大的LinearLayout放着四个样式一样的（ImagView + TextView）的小Item。</p>
<p>(1) 完整具体的代码，详见：<code>show_main_lay.xml</code>，通过注释可以看到该布局的三部分组成。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1. 顶部标题栏--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/show_main_title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">layout</span>=<span class="string">"@layout/title_layout"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2. 存放四个Fragment--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/whitesmoke"</span>&gt;</span><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--3. 底部的四个选项菜单--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#FFFFFF"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--四个部分都一样：ImageView + TextView--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/first_layout"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/first_image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:src</span>=<span class="string">"@android:drawable/ic_menu_compass"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/first_text"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:text</span>=<span class="string">"消息"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">"#7597B3"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/second_layout"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/second_image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:src</span>=<span class="string">"@android:drawable/ic_menu_agenda"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/second_text"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:text</span>=<span class="string">"发现"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">"#7597B3"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/third_layout"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/third_image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:src</span>=<span class="string">"@android:drawable/ic_menu_edit"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/third_text"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:text</span>=<span class="string">"记录"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">"#7597B3"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/fourth_layout"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/fourth_image"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:src</span>=<span class="string">"@android:drawable/ic_menu_myplaces"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:id</span>=<span class="string">"@+id/fourth_text"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:layout_marginTop</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:text</span>=<span class="string">"我的"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:textColor</span>=<span class="string">"#7597B3"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>附上源码截图吧：<br><img src="http://img.blog.csdn.net/20160330214950929" alt="main"></p>
<hr>
<p>(2) 对于布局的第一部分的顶部标题栏，代码请见：<code>title_layout.xml</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"56dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorPrimaryDark"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/title_imv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@android:drawable/ic_menu_more"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/title_text_tv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"首 页"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@color/bg_color"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>见下截图：</p>
<p><img src="http://img.blog.csdn.net/20160330215424290" alt="title"></p>
<hr>
<p>(3) 布局中间的第二部分我们再分别建立4个.xml布局文件，分别命名为：<code>fg1.xml、fg2.xml、fg3.xml、fg4.xml</code>，内容上只更改一下TextView中的文字说明，如第一个页面，改为第二个页面。下面只给出其中一个<code>fg1.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/aquamarine"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"第二个页面"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"22sp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如图：</p>
<p><img src="http://img.blog.csdn.net/20160330215513462" alt="fg1"></p>
<p><img src="http://img.blog.csdn.net/20160330215532244" alt="fg2"></p>
<hr>
<p>（4） 这里也给出<code>Values</code>目录下的<code>colors.xml</code>内容吧，颜色还是比较完整的但是名字不好记：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>#3F51B5<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>#303F9F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"colorAccent"</span>&gt;</span>#FF4081<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"bg_color"</span>&gt;</span>#EDEDED<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"contents_text"</span>&gt;</span>#ff000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"encode_view"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"help_button_view"</span>&gt;</span>#ffcccccc<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"help_view"</span>&gt;</span>#ff404040<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"possible_result_points"</span>&gt;</span>#c0ffff00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"result_image_border"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"result_minor_text"</span>&gt;</span>#ffc0c0c0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"result_points"</span>&gt;</span>#c000ff00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"result_text"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"result_view"</span>&gt;</span>#b0000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_header_text"</span>&gt;</span>#ff808080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_header_view"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_list_item"</span>&gt;</span>#fffff0e0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_layout_view"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_page_number_text"</span>&gt;</span>#ff000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sbc_snippet_text"</span>&gt;</span>#ff4b4b4b<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"share_text"</span>&gt;</span>#ff000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"share_view"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"status_view"</span>&gt;</span>#50000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"status_text"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"transparent"</span>&gt;</span>#00000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"viewfinder_frame"</span>&gt;</span>#ffffffff<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"viewfinder_laser"</span>&gt;</span>#ffff0000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"viewfinder_mask"</span>&gt;</span>#60000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"header"</span>&gt;</span>#58567D<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"grgray"</span>&gt;</span>#686868<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"white"</span>&gt;</span>#FFFFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--白色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"ivory"</span>&gt;</span>#FFFFF0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--象牙色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightyellow"</span>&gt;</span>#FFFFE0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"yellow"</span>&gt;</span>#FFFF00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"snow"</span>&gt;</span>#FFFAFA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--雪白色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"floralwhite"</span>&gt;</span>#FFFAF0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--花白色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lemonchiffon"</span>&gt;</span>#FFFACD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--柠檬绸色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"cornsilk"</span>&gt;</span>#FFF8DC<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--米绸色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"seashell"</span>&gt;</span>#FFF5EE<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--海贝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lavenderblush"</span>&gt;</span>#FFF0F5<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--淡紫红 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"papayawhip"</span>&gt;</span>#FFEFD5<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--番木色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"blanchedalmond"</span>&gt;</span>#FFEBCD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--白杏色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mistyrose"</span>&gt;</span>#FFE4E1<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--浅玫瑰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"bisque"</span>&gt;</span>#FFE4C4<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--桔黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"moccasin"</span>&gt;</span>#FFE4B5<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鹿皮色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"navajowhite"</span>&gt;</span>#FFDEAD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--纳瓦白 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"peachpuff"</span>&gt;</span>#FFDAB9<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--桃色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gold"</span>&gt;</span>#FFD700<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--金色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"pink"</span>&gt;</span>#FFC0CB<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--粉红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightpink"</span>&gt;</span>#FFB6C1<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮粉红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"orange"</span>&gt;</span>#FFA500<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--橙色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightsalmon"</span>&gt;</span>#FFA07A<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮肉色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkorange"</span>&gt;</span>#FF8C00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗桔黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"coral"</span>&gt;</span>#FF7F50<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--珊瑚色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"hotpink"</span>&gt;</span>#FF69B4<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--热粉红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"tomato"</span>&gt;</span>#FF6347<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--西红柿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"orangered"</span>&gt;</span>#FF4500<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--红橙色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"deeppink"</span>&gt;</span>#FF1493<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--深粉红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"fuchsia"</span>&gt;</span>#FF00FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--紫红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"magenta"</span>&gt;</span>#FF00FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--红紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"red"</span>&gt;</span>#FF0000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"oldlace"</span>&gt;</span>#FDF5E6<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--老花色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightgoldenyellow"</span>&gt;</span>#FAFAD2<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮金黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"linen"</span>&gt;</span>#FAF0E6<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亚麻色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"antiquewhite"</span>&gt;</span>#FAEBD7<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--古董白 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"salmon"</span>&gt;</span>#FA8072<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鲜肉色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"ghostwhite"</span>&gt;</span>#F8F8FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--幽灵白 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mintcream"</span>&gt;</span>#F5FFFA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--薄荷色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"whitesmoke"</span>&gt;</span>#F5F5F5<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--烟白色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"beige"</span>&gt;</span>#F5F5DC<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--米色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"wheat"</span>&gt;</span>#F5DEB3<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--浅黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sandybrown"</span>&gt;</span>#F4A460<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--沙褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"azure"</span>&gt;</span>#F0FFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--天蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"honeydew"</span>&gt;</span>#F0FFF0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--蜜色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"aliceblue"</span>&gt;</span>#F0F8FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--艾利斯兰 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"khaki"</span>&gt;</span>#F0E68C<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--黄褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightcoral"</span>&gt;</span>#F08080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮珊瑚色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"palegoldenrod"</span>&gt;</span>#EEE8AA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--苍麒麟色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"violet"</span>&gt;</span>#EE82EE<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--紫罗兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darksalmon"</span>&gt;</span>#E9967A<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗肉色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lavender"</span>&gt;</span>#E6E6FA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--淡紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightcyan"</span>&gt;</span>#E0FFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮青色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"burlywood"</span>&gt;</span>#DEB887<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--实木色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"plum"</span>&gt;</span>#DDA0DD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--洋李色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gainsboro"</span>&gt;</span>#DCDCDC<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--淡灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"crimson"</span>&gt;</span>#DC143C<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗深红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"palevioletred"</span>&gt;</span>#DB7093<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--苍紫罗兰色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"goldenrod"</span>&gt;</span>#DAA520<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--金麒麟色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"orchid"</span>&gt;</span>#DA70D6<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--淡紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"thistle"</span>&gt;</span>#D8BFD8<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--蓟色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightgray"</span>&gt;</span>#D3D3D3<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightgrey"</span>&gt;</span>#D3D3D3<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"tan"</span>&gt;</span>#D2B48C<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--茶色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"chocolate"</span>&gt;</span>#D2691E<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--巧可力色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"peru"</span>&gt;</span>#CD853F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--秘鲁色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"indianred"</span>&gt;</span>#CD5C5C<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--印第安红 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumvioletred"</span>&gt;</span>#C71585<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中紫罗兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"silver"</span>&gt;</span>#C0C0C0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--银色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkkhaki"</span>&gt;</span>#BDB76B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 暗黄褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"rosybrown"</span>&gt;</span>#BC8F8F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--褐玫瑰红--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumorchid"</span>&gt;</span>#BA55D3<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中粉紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkgoldenrod"</span>&gt;</span>#B8860B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗金黄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"firebrick"</span>&gt;</span>#B22222<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--火砖色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"powderblue"</span>&gt;</span>#B0E0E6<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--粉蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightsteelblue"</span>&gt;</span>#B0C4DE<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮钢兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"paleturquoise"</span>&gt;</span>#AFEEEE<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--苍宝石绿 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"greenyellow"</span>&gt;</span>#ADFF2F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--黄绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightblue"</span>&gt;</span>#ADD8E6<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkgray"</span>&gt;</span>#A9A9A9<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkgrey"</span>&gt;</span>#A9A9A9<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"brown"</span>&gt;</span>#A52A2A<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"sienna"</span>&gt;</span>#A0522D<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--赭色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkorchid"</span>&gt;</span>#9932CC<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"palegreen"</span>&gt;</span>#98FB98<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--苍绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkviolet"</span>&gt;</span>#9400D3<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗紫罗兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumpurple"</span>&gt;</span>#9370DB<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightgreen"</span>&gt;</span>#90EE90<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkseagreen"</span>&gt;</span>#8FBC8F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗海兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"saddlebrown"</span>&gt;</span>#8B4513<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--重褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkmagenta"</span>&gt;</span>#8B008B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗洋红 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkred"</span>&gt;</span>#8B0000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗红色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"blueviolet"</span>&gt;</span>#8A2BE2<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--紫罗兰蓝色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightskyblue"</span>&gt;</span>#87CEFA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮天蓝色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"skyblue"</span>&gt;</span>#87CEEB<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--天蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"gray"</span>&gt;</span>#808080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"grey"</span>&gt;</span>#808080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"olive"</span>&gt;</span>#808000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--橄榄色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"purple"</span>&gt;</span>#800080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--紫色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"maroon"</span>&gt;</span>#800000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--粟色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"aquamarine"</span>&gt;</span>#7FFFD4<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--碧绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"chartreuse"</span>&gt;</span>#7FFF00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--黄绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lawngreen"</span>&gt;</span>#7CFC00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--草绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumslateblue"</span>&gt;</span>#7B68EE<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中暗蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightslategray"</span>&gt;</span>#778899<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮蓝灰 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightslategrey"</span>&gt;</span>#778899<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮蓝灰 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"slategray"</span>&gt;</span>#708090<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--灰石色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"slategrey"</span>&gt;</span>#708090<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--灰石色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"olivedrab"</span>&gt;</span>#6B8E23<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--深绿褐色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"slateblue"</span>&gt;</span>#6A5ACD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--石蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"dimgray"</span>&gt;</span>#696969<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"dimgrey"</span>&gt;</span>#696969<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumaquamarine"</span>&gt;</span>#66CDAA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中绿色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"cornflowerblue"</span>&gt;</span>#6495ED<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--菊兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"cadetblue"</span>&gt;</span>#5F9EA0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--军兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkolivegreen"</span>&gt;</span>#556B2F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗橄榄绿 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"indigo"</span>&gt;</span>#4B0082<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--靛青色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumturquoise"</span>&gt;</span>#48D1CC<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中绿宝石--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkslateblue"</span>&gt;</span>#483D8B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗灰蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"steelblue"</span>&gt;</span>#4682B4<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--钢兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"royalblue"</span>&gt;</span>#4169E1<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--皇家蓝 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"turquoise"</span>&gt;</span>#40E0D0<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--青绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumseagreen"</span>&gt;</span>#3CB371<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中海蓝 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"limegreen"</span>&gt;</span>#32CD32<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--橙绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkslategray"</span>&gt;</span>#2F4F4F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗瓦灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkslategrey"</span>&gt;</span>#2F4F4F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗瓦灰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"seagreen"</span>&gt;</span>#2E8B57<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--海绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"forestgreen"</span>&gt;</span>#228B22<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--森林绿 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lightseagreen"</span>&gt;</span>#20B2AA<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--亮海蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"dodgerblue"</span>&gt;</span>#1E90FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--闪兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"midnightblue"</span>&gt;</span>#191970<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中灰兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"aqua"</span>&gt;</span>#00FFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--浅绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"cyan"</span>&gt;</span>#00FFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--青色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"springgreen"</span>&gt;</span>#00FF7F<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--春绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"lime"</span>&gt;</span>#00FF00<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--酸橙色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumspringgreen"</span>&gt;</span>#00FA9A<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中春绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkturquoise"</span>&gt;</span>#00CED1<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗宝石绿 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"deepskyblue"</span>&gt;</span>#00BFFF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--深天蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkcyan"</span>&gt;</span>#008B8B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗青色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"teal"</span>&gt;</span>#008080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--水鸭色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"green"</span>&gt;</span>#008000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkgreen"</span>&gt;</span>#006400<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗绿色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"blue"</span>&gt;</span>#0000FF<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"mediumblue"</span>&gt;</span>#0000CD<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--中兰色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"darkblue"</span>&gt;</span>#00008B<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--暗蓝色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"navy"</span>&gt;</span>#000080<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--海军色 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"black"</span>&gt;</span>#000000<span class="tag">&lt;/<span class="name">color</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--黑色 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如图：</p>
<p><img src="http://img.blog.csdn.net/20160330215617025" alt="color"></p>
<p>那么到这里我们的界面布局就基本完成了！</p>
<hr>
<h3 id="相应Fragment的实现类"><a href="#相应Fragment的实现类" class="headerlink" title="相应Fragment的实现类"></a>相应Fragment的实现类</h3><p>接下来我们需要写四个相应的<code>Fragment</code>的实现类，同样拷贝4份，改用<code>inflate</code>加载Fragment即可。即，包含四个差不多一样的Fragment,分别起名为：<code>FirstFragment.java、SecondFragment.java、ThirdFragment.java、FourthFragment.java</code>。</p>
<p>下面主要展示一下<code>FirstFragment.java</code>的具体代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.dm.myapplication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by dm on 16-3-29.</span></span><br><span class="line"><span class="comment"> * 第一个页面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        View view = inflater.inflate(R.layout.fg1, container, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如图：</p>
<p><img src="http://img.blog.csdn.net/20160330215700276" alt="FirstFragment"></p>
<hr>
<h3 id="最重要的MainActivity"><a href="#最重要的MainActivity" class="headerlink" title="最重要的MainActivity"></a>最重要的MainActivity</h3><p>各个七零八落的小部件都已经准备到序了，现在只剩下这个主界面实现类把他们融合在一起，实现相应的效果了。MainActivity.java 的编写也很简单，直接看代码和注释就可以了，不多解释额：主要包含几个初始化方法、选中处理、隐藏所有Fragment的方法。详见MainActivity.java：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.dm.myapplication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentActivity;   <span class="comment">// 注意这里我们导入的V4的包，不要导成app的包了</span></span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.FrameLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.RelativeLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主页面内容</span></span><br><span class="line"><span class="comment"> * Created by dm on 16-1-19.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">FragmentActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 初始化顶部栏显示</span></span><br><span class="line">    <span class="keyword">private</span> ImageView titleLeftImv;</span><br><span class="line">    <span class="keyword">private</span> TextView titleTv;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义4个Fragment对象</span></span><br><span class="line">    <span class="keyword">private</span> FirstFragment fg1;</span><br><span class="line">    <span class="keyword">private</span> SecondFragment fg2;</span><br><span class="line">    <span class="keyword">private</span> ThirdFragment fg3;</span><br><span class="line">    <span class="keyword">private</span> FourthFragment fg4;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 帧布局对象，用来存放Fragment对象</span></span><br><span class="line">    <span class="keyword">private</span> FrameLayout frameLayout;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义每个选项中的相关控件</span></span><br><span class="line">    <span class="keyword">private</span> RelativeLayout firstLayout;</span><br><span class="line">    <span class="keyword">private</span> RelativeLayout secondLayout;</span><br><span class="line">    <span class="keyword">private</span> RelativeLayout thirdLayout;</span><br><span class="line">    <span class="keyword">private</span> RelativeLayout fourthLayout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ImageView firstImage;</span><br><span class="line">    <span class="keyword">private</span> ImageView secondImage;</span><br><span class="line">    <span class="keyword">private</span> ImageView thirdImage;</span><br><span class="line">    <span class="keyword">private</span> ImageView fourthImage;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TextView firstText;</span><br><span class="line">    <span class="keyword">private</span> TextView secondText;</span><br><span class="line">    <span class="keyword">private</span> TextView thirdText;</span><br><span class="line">    <span class="keyword">private</span> TextView fourthText;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义几个颜色</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> whirt = <span class="number">0xFFFFFFFF</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> gray = <span class="number">0xFF7597B3</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> dark = <span class="number">0xff000000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义FragmentManager对象管理器</span></span><br><span class="line">    <span class="keyword">private</span> FragmentManager fragmentManager;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.show_main_lay);</span><br><span class="line"></span><br><span class="line">        fragmentManager = getSupportFragmentManager();</span><br><span class="line">        initView(); <span class="comment">// 初始化界面控件</span></span><br><span class="line"></span><br><span class="line">        setChioceItem(<span class="number">0</span>);   <span class="comment">// 初始化页面加载时显示第一个选项卡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 初始化页面</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 初始化页面标题栏</span></span><br><span class="line">        titleLeftImv = (ImageView) findViewById(R.id.title_imv);</span><br><span class="line">        titleLeftImv.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                startActivity(<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, LoginActivity.class));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        titleTv = (TextView) findViewById(R.id.title_text_tv);</span><br><span class="line">        titleTv.setText(<span class="string">"首 页"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化底部导航栏的控件</span></span><br><span class="line">        firstImage = (ImageView) findViewById(R.id.first_image);</span><br><span class="line">        secondImage = (ImageView) findViewById(R.id.second_image);</span><br><span class="line">        thirdImage = (ImageView) findViewById(R.id.third_image);</span><br><span class="line">        fourthImage = (ImageView) findViewById(R.id.fourth_image);</span><br><span class="line"></span><br><span class="line">        firstText = (TextView) findViewById(R.id.first_text);</span><br><span class="line">        secondText = (TextView) findViewById(R.id.second_text);</span><br><span class="line">        thirdText = (TextView) findViewById(R.id.third_text);</span><br><span class="line">        fourthText = (TextView) findViewById(R.id.fourth_text);</span><br><span class="line"></span><br><span class="line">        firstLayout = (RelativeLayout) findViewById(R.id.first_layout);</span><br><span class="line">        secondLayout = (RelativeLayout) findViewById(R.id.second_layout);</span><br><span class="line">        thirdLayout = (RelativeLayout) findViewById(R.id.third_layout);</span><br><span class="line">        fourthLayout = (RelativeLayout) findViewById(R.id.fourth_layout);</span><br><span class="line"></span><br><span class="line">        firstLayout.setOnClickListener(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">        secondLayout.setOnClickListener(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">        thirdLayout.setOnClickListener(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">        fourthLayout.setOnClickListener(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.first_layout:</span><br><span class="line">                setChioceItem(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.second_layout:</span><br><span class="line">                setChioceItem(<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.third_layout:</span><br><span class="line">                setChioceItem(<span class="number">2</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.fourth_layout:</span><br><span class="line">                setChioceItem(<span class="number">3</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置点击选项卡的事件处理</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> index 选项卡的标号：0, 1, 2, 3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setChioceItem</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();</span><br><span class="line">        clearChioce(); <span class="comment">// 清空, 重置选项, 隐藏所有Fragment</span></span><br><span class="line">        hideFragments(fragmentTransaction);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (index) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line"><span class="comment">//                firstImage.setImageResource(R.drawable.XXXX); 需要的话自行修改</span></span><br><span class="line">                firstText.setTextColor(dark);</span><br><span class="line">                firstLayout.setBackgroundColor(gray);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 如果fg1为空，则创建一个并添加到界面上</span></span><br><span class="line">                <span class="keyword">if</span> (fg1 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    fg1 = <span class="keyword">new</span> FirstFragment();</span><br><span class="line">                    fragmentTransaction.add(R.id.content, fg1);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 如果不为空，则直接将它显示出来</span></span><br><span class="line">                    fragmentTransaction.show(fg1);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="comment">//                secondImage.setImageResource(R.drawable.XXXX);</span></span><br><span class="line">                secondText.setTextColor(dark);</span><br><span class="line">                secondLayout.setBackgroundColor(gray);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (fg2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    fg2 = <span class="keyword">new</span> SecondFragment();</span><br><span class="line">                    fragmentTransaction.add(R.id.content, fg2);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    fragmentTransaction.show(fg2);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="comment">//                thirdImage.setImageResource(R.drawable.XXXX);</span></span><br><span class="line">                thirdText.setTextColor(dark);</span><br><span class="line">                thirdLayout.setBackgroundColor(gray);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (fg3 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    fg3 = <span class="keyword">new</span> ThirdFragment();</span><br><span class="line">                    fragmentTransaction.add(R.id.content, fg3);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    fragmentTransaction.show(fg3);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="comment">//                fourthImage.setImageResource(R.drawable.XXXX);</span></span><br><span class="line">                fourthText.setTextColor(dark);</span><br><span class="line">                fourthLayout.setBackgroundColor(gray);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (fg4 == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    fg4 = <span class="keyword">new</span> FourthFragment();</span><br><span class="line">                    fragmentTransaction.add(R.id.content, fg4);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    fragmentTransaction.show(fg4);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fragmentTransaction.commit();   <span class="comment">// 提交</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当选中其中一个选项卡时，其他选项卡重置为默认</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">clearChioce</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        firstImage.setImageResource(R.drawable.XXX);</span></span><br><span class="line">        firstText.setTextColor(gray);</span><br><span class="line">        firstLayout.setBackgroundColor(whirt);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        secondImage.setImageResource(R.drawable.XXX);</span></span><br><span class="line">        secondText.setTextColor(gray);</span><br><span class="line">        secondLayout.setBackgroundColor(whirt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//        thirdImage.setImageResource(R.drawable.XXX);</span></span><br><span class="line">        thirdText.setTextColor(gray);</span><br><span class="line">        thirdLayout.setBackgroundColor(whirt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//        fourthImage.setImageResource(R.drawable.XXX);</span></span><br><span class="line">        fourthText.setTextColor(gray);</span><br><span class="line">        fourthLayout.setBackgroundColor(whirt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 隐藏Fragment</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fragmentTransaction</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">hideFragments</span><span class="params">(FragmentTransaction fragmentTransaction)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (fg1 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            fragmentTransaction.hide(fg1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (fg2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            fragmentTransaction.hide(fg2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (fg3 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            fragmentTransaction.hide(fg3);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (fg4 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            fragmentTransaction.hide(fg4);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>见图：</p>
<p><img src="http://img.blog.csdn.net/20160330215756292" alt="MainActivity.java"></p>
<p>到这里我们的功能就基本实现了，是不是还挺简单的。</p>
<hr>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><blockquote>
<p>Fragment相关类导入的时候是v4包还是app包！我们这里导入的是V4的包，在代码的注释部分，已经给出说明；<br>在完整的代码包中，我们还添加了App启动界面及动画、登录界面，这两部分的内容，这里不做具体的说明，之后继续完善。</p>
</blockquote>
<p>完整Demo下载地址：<a href="https://yunpan.cn/cqwG4iK7pNtn3" target="_blank" rel="noopener">https://yunpan.cn/cqwG4iK7pNtn3</a>  访问密码 39b5</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>（1） <a href="http://www.android100.org/html/201502/16/119643.html" target="_blank" rel="noopener">http://www.android100.org/html/201502/16/119643.html</a><br>（2） <a href="http://blog.sina.com.cn/s/blog_4e1e357d0101b3di.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_4e1e357d0101b3di.html</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/03/19/Ubuntu14-04-LTS-系统中Opencv-3-0开发环境的搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/19/Ubuntu14-04-LTS-系统中Opencv-3-0开发环境的搭建/" itemprop="url">
                  Ubuntu14.04 LTS 系统中Opencv 3.0开发环境的搭建
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-03-19 17:21:12" itemprop="dateCreated datePublished" datetime="2016-03-19T17:21:12+08:00">2016-03-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-11-21 19:44:44" itemprop="dateModified" datetime="2017-11-21T19:44:44+08:00">2017-11-21</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux-Notes/" itemprop="url" rel="index"><span itemprop="name">Linux Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/03/19/Ubuntu14-04-LTS-系统中Opencv-3-0开发环境的搭建/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/03/19/Ubuntu14-04-LTS-系统中Opencv-3-0开发环境的搭建/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/03/19/Ubuntu14-04-LTS-系统中Opencv-3-0开发环境的搭建/" class="leancloud_visitors" data-flag-title="Ubuntu14.04 LTS 系统中Opencv 3.0开发环境的搭建">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>本文的方法基本上是参考这篇文章完成的，<a href="http://blog.csdn.net/u013915633/article/details/49886465" target="_blank" rel="noopener">参考文章</a></p>
<p>感谢分享。使用源码编译安装的方法很简单，着实比在windows中配置简明多了，按部就班直接安装就OK了。</p>
<hr>
<h2 id="安装基本编译环境"><a href="#安装基本编译环境" class="headerlink" title="安装基本编译环境"></a>安装基本编译环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install build-essential</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="安装相关依赖库"><a href="#安装相关依赖库" class="headerlink" title="安装相关依赖库"></a>安装相关依赖库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="下载OpenCV-3-0"><a href="#下载OpenCV-3-0" class="headerlink" title="下载OpenCV 3.0"></a>下载OpenCV 3.0</h2><p>下载使用 wget 工具，解压使用 unzip， 如果没有安装，请使用如下代码安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install wget</span><br><span class="line">$ sudo apt-get install unzip</span><br></pre></td></tr></table></figure>
<p>也可以在我分享的360云盘中下载，详见： <a href="https://yunpan.cn/cYXhANVZauByi" target="_blank" rel="noopener">https://yunpan.cn/cYXhANVZauByi</a>  访问密码 2aee</p>
<p>alpha版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/opencv                # 新建opencv目录</span><br><span class="line">$ cd opencv/                    # 切换至opencv目录下</span><br><span class="line">$ wget https://github.com/Itseez/opencv/archive/3.0.0-alpha.zip -O opencv-3.0.0-alpha.zip          # 使用wget下载源码</span><br><span class="line">$ unzip opencv-3.0.0-alpha.zip  # 解压下载文件</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="安装OpenCV"><a href="#安装OpenCV" class="headerlink" title="安装OpenCV"></a>安装OpenCV</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/opencv/opencv-3.0.0-alpha       # 切换至源码目录</span><br><span class="line">$ cmake .                              # cmake+空格+&quot;.&quot;</span><br><span class="line">$ sudo make                   </span><br><span class="line">$ sudo make install         </span><br><span class="line">$ sudo /bin/bash -c &apos;echo &quot;/usr/local/lib&quot; &gt; /etc/ld.so.conf.d/opencv.conf&apos;  </span><br><span class="line">$ sudo ldconfig</span><br></pre></td></tr></table></figure>
<p><strong>注：如果cmake过程中提示：ippicv_linux_20141027.tgz的hash码不对，则将下载的ippicv_linux_20141027.tgz手动复制到 opencv-3.0.0-beta/3rdparty/ippicv/downloads/linux-8b449a536a2157bcad08a2b9f266828b文件夹中，重新cmake即可</strong></p>
<hr>
<h2 id="编译samples程序"><a href="#编译samples程序" class="headerlink" title="编译samples程序"></a>编译samples程序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/opencv/opencv-3.0.0-alpha/samples     # 切换至例程目录</span><br><span class="line">$ cmake .                                    # cmake+空格+&quot;.&quot;</span><br><span class="line">$ sudo make -j $(nproc)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="运行测试程序"><a href="#运行测试程序" class="headerlink" title="运行测试程序"></a>运行测试程序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/opencv/opencv-3.0.0-alpha/samples/cpp    # 切换目录, 使用alpha版本，images在opencv/cpp文件夹下</span><br><span class="line">$  ./cpp-example-facedetect lena.jpg</span><br></pre></td></tr></table></figure>
<p>运行结果，如图所示：</p>
<p><img src="http://img.blog.csdn.net/20160320121858442" alt="效果图"></p>
<hr>
<h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>[1]. <a href="http://blog.csdn.net/u013915633/article/details/49886465" target="_blank" rel="noopener">http://blog.csdn.net/u013915633/article/details/49886465</a></p>
<hr>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://absentm.github.io/2016/02/03/Android-studio-安装过程中的问题整理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AbsentM">
      <meta itemprop="description" content="Avenue to Jane!">
      <meta itemprop="image" content="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AbsentM's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/02/03/Android-studio-安装过程中的问题整理/" itemprop="url">
                  Android studio 安装过程中的问题整理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-02-03 21:18:53" itemprop="dateCreated datePublished" datetime="2016-02-03T21:18:53+08:00">2016-02-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-03-19 11:48:25" itemprop="dateModified" datetime="2018-03-19T11:48:25+08:00">2018-03-19</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Android-Notes/" itemprop="url" rel="index"><span itemprop="name">Android Notes</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/02/03/Android-studio-安装过程中的问题整理/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/02/03/Android-studio-安装过程中的问题整理/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2016/02/03/Android-studio-安装过程中的问题整理/" class="leancloud_visitors" data-flag-title="Android studio 安装过程中的问题整理">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="JDK的安装-Ubuntu-版本-："><a href="#JDK的安装-Ubuntu-版本-：" class="headerlink" title="JDK的安装(Ubuntu 版本)："></a>JDK的安装(Ubuntu 版本)：</h2><p>使用oracle jdk7以上的版本，使用apt-get方式安装，安装方法见上篇Blog</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team/java</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install oracle-java7-installer</span><br><span class="line">或</span><br><span class="line">sudo apt-get install oracle-java8-installer</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="JDK的安装-Windows-版本-："><a href="#JDK的安装-Windows-版本-：" class="headerlink" title="JDK的安装(Windows 版本)："></a>JDK的安装(Windows 版本)：</h2><p>1: 下载java jdk:  <a href="http://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html" target="_blank" rel="noopener">jdk-8 下载地址</a>；<br>2: 傻瓜式安装后，设置环境变量；<br>3: 依次点开：控制面板 -&gt; 系统和安全 -&gt; 系统 -&gt; 高级系统设置 -&gt; 环境变量，在 <strong><em>系统变量</em></strong> 中添加如下java 环境变量：</p>
<h3 id="Java环境变量设置"><a href="#Java环境变量设置" class="headerlink" title="Java环境变量设置"></a>Java环境变量设置</h3><p>1: 新建:</p>
<p>变量名：<code>JAVA_HOME</code>;<br>变量值： <code>C:\Program Files\Java\jdk1.8.0_20</code>（即，JDK的安装目录），如图：</p>
<p><img src="http://img.blog.csdn.net/20160203210721918" alt="新建JAVA_HOME环境变量"></p>
<p>2: 新建：<br>变量名：CLASSPATH；<br>变量值：<code>.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\tools.jar;</code>（注意前方的“ . ” 英文格式），如图：</p>
<p><img src="http://img.blog.csdn.net/20160203210845919" alt="新建CLASSPATH环境变量"></p>
<p>3: 在Path环境变量的末尾中添加： <code>;%JAVA_HOME%\bin ;%JAVA_HOME%\jre\bin</code> （注意最前边个的“ ; ” 英文分号），如图:</p>
<p><img src="http://img.blog.csdn.net/20160203210945263" alt="Path环境变量的设置"></p>
<p>4: 测试jdk的安装：win + R -&gt; cmd -&gt; 打开命令提示符，键入如下代码：<code>java</code> 和 <code>javac</code> 来测试是否成功，若成功，如图所示：</p>
<p><img src="http://img.blog.csdn.net/20160203211334768" alt="java命令测试效果"></p>
<p><img src="http://img.blog.csdn.net/20160203211406394" alt="javac命令测试效果"></p>
<hr>
<h2 id="首次进入Android-studio，国内被墙："><a href="#首次进入Android-studio，国内被墙：" class="headerlink" title="首次进入Android studio，国内被墙："></a>首次进入Android studio，国内被墙：</h2><ul>
<li>单独下载 sdk</li>
<li>android-studio/bin/ -&gt; idea.properties文件，加上：<code>disable.android.first.run=true</code>，保证第一次可进入</li>
<li>修改Hosts: <code>$ sudo vim /etc/hosts</code> , 添加如下列表（Windows同样可以修改Hosts文件如下， 位置为：<code>C:\Windows\System32\drivers\etc</code>）：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">203.208.46.146 www.google.com</span><br><span class="line">74.125.113.121 developer.android.com</span><br><span class="line">203.208.46.146 dl.google.com</span><br><span class="line">203.208.46.146 dl-ssl.google.com</span><br></pre></td></tr></table></figure>
<p>重启网络：<code>$ /etc/init.d/networking restart</code></p>
<ul>
<li>在单独下载的sdk中，如：android-sdk-linux/tool/文件夹下执行：./android 打开sdk manager;</li>
<li>设置sdk manager的optionxuanxiang选项为（windows同样适用）：<br>在「HTTP Proxy Server」和「HTTP Proxy Port」输入框内填入<strong>mirrors.neusoft.edu.cn和80</strong>，并且选中「Force https://… sources to be fetched using http://…」复选框。设置完成后单击「Close」按钮关闭『Android SDK Manager - Settings』，下载速度嗖嗖的！效果图如下：</li>
</ul>
<hr>
<h2 id="模拟器Genymotion的安装："><a href="#模拟器Genymotion的安装：" class="headerlink" title="模拟器Genymotion的安装："></a>模拟器Genymotion的安装：</h2><ul>
<li>安装VirtualBox虚拟机：<code>$ sudo apt-get install virtualbox</code></li>
<li>下载Genymotion模拟器添加权限：<code>$ chmod +x genymotion.XXXXX.bin</code></li>
<li>执行安装：<code>$ ./genymotion.XXXXX.bin</code></li>
<li>注意：<strong>创建android模拟器后可能打不开，设置BIOS开启虚拟化功能，开机进入BIOS -&gt; Virtualization -&gt; enabled</strong>，各个主板可能不同</li>
</ul>
<hr>
<h2 id="快捷键设置"><a href="#快捷键设置" class="headerlink" title="快捷键设置"></a>快捷键设置</h2><ol>
<li>java类注释：Fix doc comment -&gt; “Alt + Shift + j”；</li>
<li>自动匹配：Basic -&gt; “Alt + /“；</li>
<li>格式化代码：Reformat code -&gt; “Ctrl + Shift + F”；</li>
<li>驼峰选择：Editor | General | Smart Keys | Use “CamelHumps” words；</li>
<li>如果你仍然希望当鼠标在单词上双击之后选中整个单词，需要作如下设置：Editor | General | 取消选中‘Honor Camel Humps words settings when selecting on double click’；</li>
<li>命名前缀：Editor | Code Style | Java | Code Generation， 给普通Field 添加一个’m’前缀，给Static filed 添加一个’s’前缀；</li>
<li>快速导包：Editor | General | Auto Import，勾选Optimize imports on the fly，勾选Add unambiguous imports on the fly；</li>
<li>插件: Markdown, .gitignore, minimap(CodeGlance)；</li>
<li>Http Proxy: Plugins | HTTP Proxy Settings | Manual proxy configuration | HTTP | HostName: 127.0.0.1 | Port: 1080 | No proxy for: 127.0.0.1 。</li>
<li>多行同时编辑：修改 Edit -&gt; Find -&gt; “Add Selection for Next Occurrence” 的默认快捷键 “Alt+J” 为 “Ctrl + D” [与 sublime text 编辑器保持同步]</li>
<li>设置每行显示字符个数限制：设置 File -&gt;  Settings  -&gt;  Code Style -&gt; Right margin (columns) 的值为 80</li>
</ol>
<p>详细配置参见：<br><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0411/4131.html" target="_blank" rel="noopener">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0411/4131.html</a></p>
<hr>
<h2 id="AS-Gradle-Build-Running-卡顿、慢等问题"><a href="#AS-Gradle-Build-Running-卡顿、慢等问题" class="headerlink" title="AS Gradle Build Running 卡顿、慢等问题"></a>AS Gradle Build Running 卡顿、慢等问题</h2><p>主要是因为缺少相关的32位依赖库, 可通过一下方法解决: 终端输入以下命令, 安装完成后, 重启as即可。</p>
<p>sudo dpkg –add-architecture i386<br>sudo apt-get update<br>sudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386</p>
<p><1>. 加快Gradle编译速度</1></p>
<p>在下面的目录下面创建gradle.properties文件：</p>
<ul>
<li>Linux:    /home/<username>/.gradle/</username></li>
<li>Mac：     /Users/<username>/.gradle/</username></li>
<li>Windows： C:\Users\<username>.gradle</username></li>
</ul>
<p>添加如下几行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 开启gradle单独的守护进程</span><br><span class="line">org.gradle.daemon=true      </span><br><span class="line"></span><br><span class="line"># 调大JVM参数</span><br><span class="line">org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8</span><br><span class="line"></span><br><span class="line"># 平行运行</span><br><span class="line">org.gradle.parallel=true</span><br><span class="line"></span><br><span class="line"># Enables new incubating mode that makes Gradle selective when configuring projects.</span><br><span class="line">org.gradle.configureondemand=true</span><br></pre></td></tr></table></figure></p>
<p><2>. 修改android studio配置(看图配置)</2></p>
<p><img src="https://o8zyn0sct.qnssl.com/as1.png" alt="配置1"></p>
<p><img src="https://o8zyn0sct.qnssl.com/as2.png" alt="配置2"></p>
<p><img src="https://o8zyn0sct.qnssl.com/as3.png" alt="配置3"></p>
<p><strong>详细说明，请参看参考资料[3],[4].</strong></p>
<hr>
<h2 id="check-for-update无法更新问题解决办法"><a href="#check-for-update无法更新问题解决办法" class="headerlink" title="check for update无法更新问题解决办法"></a>check for update无法更新问题解决办法</h2><p>当点击check for update的时候遇到了如下问题：Connection failed (connect timed out). Please check network connection and try again.</p>
<p><strong>解决办法</strong>:</p>
<p>修改 \Android Studio\bin 下的文件 studio.exe.vmoptions(linux系统为: studio.vmoptions) 和 studio64.exe.vmoptions(linux系统为: studio64.vmoptions)文件,  添加如下内容重启 Android Studio 即可:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-Djava.net.preferIPv4Stack=true</span><br><span class="line"></span><br><span class="line">-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml</span><br><span class="line"></span><br><span class="line">-Didea.patches.url=http://dl.google.com/android/studio/patches/</span><br></pre></td></tr></table></figure>
<p>配置好了之后，android studio还是与之前一样不能更新！</p>
<p>因为之前为了要让sdk更新而修改了系统的hosts文件，把hosts文件的内容改回来就可以更新了, 即注释掉之前添加的行, 修改后如下图所示:</p>
<p><img src="http://img.blog.csdn.net/20160413114331970" alt="hosts注释掉"></p>
<p>修改完后, 注意重启一下网络啊:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/networking restart 	# ubuntu下</span><br></pre></td></tr></table></figure>
<p>之后便可以更新了! 瞅瞅!</p>
<p><img src="http://img.blog.csdn.net/20160413114506892" alt="update"></p>
<hr>
<h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p>[1]. <a href="http://blog.csdn.net/double2hao/article/details/49582585" target="_blank" rel="noopener">http://blog.csdn.net/double2hao/article/details/49582585</a><br>[2]. <a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0411/4131.html" target="_blank" rel="noopener">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0411/4131.html</a><br>[3]. <a href="http://www.jianshu.com/p/2a58fd896214" target="_blank" rel="noopener">http://www.jianshu.com/p/2a58fd896214</a><br>[4]. <a href="http://blog.isming.me/2015/03/18/android-build-speed-up/" target="_blank" rel="noopener">http://blog.isming.me/2015/03/18/android-build-speed-up/</a></p>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://o8zyn0sct.qnssl.com/googlrPhoto.jpg" alt="AbsentM">
            
              <p class="site-author-name" itemprop="name">AbsentM</p>
              <p class="site-description motion-element" itemprop="description">Avenue to Jane!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">57</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">37</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/absentm" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/absentm123" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AbsentM</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Mist</a> v6.3.0</div>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
      <div>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58d66725c4aec37d" async="async"></script>
</div>

      </div>
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  

  
    <script id="dsq-count-scr" src="https://absentm.disqus.com/count.js" async></script>
  

  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("8gIMbJWMH7XprqgkEiPWXvuu-gzGzoHsz", "W9NRpyhllWph45XiJsEHVgct");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            
            counter.save(null, {
              success: function(counter) {
                
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(counter.get('time'));
                
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            
              var $element = $(document.getElementById(url));
              $element.find('.leancloud-visitors-count').text('Counter not initialized! See more at console err msg.');
              console.error('ATTENTION! LeanCloud counter has security bug, see here how to solve it: https://github.com/theme-next/hexo-leancloud-counter-security. \n But you also can use LeanCloud without security, by set \'security\' option to \'false\'.');
            
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  


  
  

  

  

  

  

  

</body>
</html>